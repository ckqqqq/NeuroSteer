2025-02-08 20:29:24,941 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_4_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 20:29:24,941 [INFO] Show Hyperparameters: 


2025-02-08 20:29:24,941 [INFO]   task: sentiment
2025-02-08 20:29:24,941 [INFO]   layer: 4
2025-02-08 20:29:24,941 [INFO]   LLM: gpt2-small
2025-02-08 20:29:24,941 [INFO]   seed: 42
2025-02-08 20:29:24,941 [INFO]   data_size: -1
2025-02-08 20:29:24,941 [INFO]   device: cuda
2025-02-08 20:29:24,941 [INFO]   alpha: 203.0
2025-02-08 20:29:24,941 [INFO]   method: val_mul
2025-02-08 20:29:24,941 [INFO]   topk_mean: 100
2025-02-08 20:29:24,941 [INFO]   topk_cnt: 50
2025-02-08 20:29:24,941 [INFO]   batch_size: 32
2025-02-08 20:29:24,942 [INFO]   source: pos
2025-02-08 20:29:24,942 [INFO]   target: neg
2025-02-08 20:29:24,942 [INFO]   prompt_source: pos
2025-02-08 20:29:24,942 [INFO]   prompt_data_size: 500
2025-02-08 20:29:24,942 [INFO]   mean_type: dif_mean
2025-02-08 20:29:24,942 [INFO]   steer_type: last
2025-02-08 20:29:24,942 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:29:24,942 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:29:24,942 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:29:24,942 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:29:24,942 [INFO]   temperature: 0.9
2025-02-08 20:29:24,942 [INFO]   top_p: 0.3
2025-02-08 20:29:24,942 [INFO]   freq_penalty: 1.0
2025-02-08 20:29:24,942 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:29:24,942 [INFO]   debug: 0
2025-02-08 20:29:24,942 [INFO]   save_no_steer: 0
2025-02-08 20:29:24,942 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:29:24,942 [INFO]   use_cache: 0
2025-02-08 20:29:24,942 [INFO]   repeat_num: 1
2025-02-08 20:29:24,942 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 20:29:24,942 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:29:24,942 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 20:29:24,943 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 20:29:25,040 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 20:29:25,044 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 20:29:25,045 [INFO] Loading Model Loading SAE for layer 4 gpt2-small
2025-02-08 20:29:25,045 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 20:30:37,070 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
)
2025-02-08 20:30:37,071 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_4_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l4.pkl 不存在，缓存 steer_info
2025-02-08 20:30:37,088 [INFO] :>> Sentiment : from pos to neg
2025-02-08 20:30:37,100 [INFO] positive
2025-02-08 20:30:37,105 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:30:38,897 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:30:38,898 [INFO] negative
2025-02-08 20:30:38,911 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:30:40,903 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:30:40,905 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_4_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l4.pkl
2025-02-08 20:30:40,914 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 20:30:40,936 [INFO] sae cfg.hook_name 挂载名称: blocks.4.hook_resid_pre
2025-02-08 20:30:40,939 [INFO] Example prompt: But the lack of financial aid would
2025-02-08 20:30:40,939 [INFO] Generating texts **without** steering... 
2025-02-08 20:30:40,941 [INFO] 无干预
2025-02-08 20:30:42,126 [INFO] prompt:*****
But the lack of financial aid would
2025-02-08 20:30:42,126 [INFO] 包含prompt的完整输出: 1:
<|endoftext|>But the lack of financial aid would be a major blow to Mr. Trump's campaign, which has struggled to find a way to attract donors and attract new supporters.

The president's campaign has also struggled with its fundraising, which has been sluggish since he took office in January.
2025-02-08 20:30:42,126 [INFO] 包含prompt的完整输出: 2:
<|endoftext|>But the lack of financial aid would be a major blow to Mr. Trump's campaign, which has struggled to attract enough voters to its core message.

Mr. Trump's business interests are not particularly strong, and his personal finances have been in the news recently for a series of
2025-02-08 20:30:42,126 [INFO] 包含prompt的完整输出: 3:
<|endoftext|>But the lack of financial aid would be a big problem for the state, which has been struggling to find enough money to pay its bills.

The state's budget shortfall is expected to reach $2 billion by 2018, and it will have to pay more than $1 billion in
2025-02-08 20:30:42,126 [INFO] 干预之后的结果
2025-02-08 20:30:42,126 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 20:30:42,126 [INFO] ** Generating texts with steering... Target **
2025-02-08 20:30:42,126 [INFO] form pos to neg
2025-02-08 20:30:42,987 [INFO] prompt:*****
But the lack of financial aid would
2025-02-08 20:30:42,987 [INFO] 包含prompt的完整输出: 1:
<|endoftext|>But the lack of financial aid would be a huge blow to the economy, as it would mean that workers in the US could no longer afford to work in other countries.

The move comes after President Donald Trump signed an executive order banning people from seven predominantly Muslim countries from entering the
2025-02-08 20:30:42,987 [INFO] 包含prompt的完整输出: 2:
<|endoftext|>But the lack of financial aid would be an enormous loss to the state, and it would also be a huge blow to the economy.

"It's going to be very hard for us to continue with this," said D.C. Councilman Mike DeWine, who
2025-02-08 20:30:42,987 [INFO] 包含prompt的完整输出: 3:
<|endoftext|>But the lack of financial aid would be "more expensive than we think," he said.

"We don't want to have a $1 trillion dollar budget deficit, and that's what we're trying to do," he said. "It's not just about the debt,
2025-02-08 20:30:42,991 [INFO] Running on full data
2025-02-08 20:30:42,991 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 20:30:42,991 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:30:43,004 [INFO] prompt的极性是pos
2025-02-08 20:30:43,005 [INFO] Running with alpha: 203.0
2025-02-08 20:30:43,005 [INFO] Running with prompt_type: from pos to neg
2025-02-08 20:30:43,006 [WARNING] 截取prompt_datasize500
2025-02-08 20:30:43,836 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:30:43,836 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"It sticks true to the spirit of the original game, but with a twist that\'s completely different from what you\'re used to.\n\n"You\'ll have a different look at how it was done and how it\'s going to be played, but I think you\'ll'}]}
2025-02-08 20:30:57,816 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:30:57,816 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>I love hearing from you, I will be with you.\n\nSo what is your plan for this year? What do you think will happen in the coming months? Let us know in the comments below!<|endoftext|>From our perspective, we're looking forward to seeing how things"}]}
2025-02-08 20:31:11,776 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:31:11,776 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>Moreover, we see the interest of our French friends. They have been looking for you and they are looking for you.\n\nI am a man who has been working hard to become a better person and I have not found it in my life to be happy. I am very sad because I was'}]}
2025-02-08 20:31:25,699 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:31:25,699 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The artful play of dynamics. The more complex the game, the more dynamic it becomes.\n\nI've been playing a lot of games lately and I'm always looking for new ways to get my hands on something new. So when I came across this game called Clue"}]}
2025-02-08 20:31:39,622 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:31:39,622 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"He spoke with such amazing passion even in a world where we are all living in fear of the unknown. I\'m sure you can imagine how much it hurts to be alone, and how much it hurts to be so alone that you can\'t tell your friends apart from each other.\n\n'}]}
2025-02-08 20:31:53,541 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:31:53,541 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>It proved an enlightening experience, though he was just too tired to do anything about it.\n\n"I\'m going to have a nap," he said. "I\'ll be up late at night."\n\nThe following day, when the same thing happened again, he got up and went'}]}
2025-02-08 20:32:07,465 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:32:07,465 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"You are my favorite person in the past, I think it\'s been a long time since we\'ve had a game like this. We\'ve been playing it for years and years and years, but now we\'re getting to play it for a whole year. It\'s going to be great'}]}
2025-02-08 20:32:21,333 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:32:21,333 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>This group includes multiple chemists and engineers who have worked on the field of robotics for decades.\n\nThey say that the robot, which has been called "the most advanced robotic ever built," is capable of making complex tasks such as solving complex problems in a fraction of the time it'}]}
2025-02-08 20:32:35,234 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:32:35,235 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>This is the enduring image of Craig Biggio: sitting on a chair, watching TV.\n\nIt's not like I'm being mean. I'm just saying that this is a good thing for me to be doing it because it gives me some comfort in knowing that if you're going to do something"}]}
2025-02-08 20:32:49,153 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:32:49,153 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>ONCE again, the Seattle Hempfest drew tens of thousands of people to see the first two films of the new series, which will be released on May 5.\n\nThe second film, titled "Falling Down," is a psychological thriller about a young man who is forced to make a choice between'}]}
2025-02-08 20:33:03,039 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:33:03,039 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>With our assortment of whimsical tea is one of the most popular and sought after tea in the world. This tea is made from pure water, with a blend of natural herbs and spices. It's very refreshing to have a taste of this natural sweet tea, especially when you're trying"}]}
2025-02-08 20:33:16,920 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:33:16,920 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>People from every neighbourhood in London came to our office in London, and I'm glad that we have a very good working relationship with the NHS.\n\nI think that it's important for people to know what they're getting into when they buy their medicine, and if you don't know what"}]}
2025-02-08 20:33:30,788 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:33:30,788 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>Home Affairs Minister Peter Dutton praised the efforts of the National Security Council to persuade Moscow to back down on its nuclear ambitions.\n\nThe U.S.-led coalition, which has been bombing Syria since March 2011, has accused Russia of using chemical weapons against civilians in a war that has killed'}]}
2025-02-08 20:33:44,662 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:33:44,662 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>The Baltimore Orioles will promote first baseman Travis Ishikawa from the Chicago Cubs to the New York Yankees.\n\nIn a statement, MLB said it was "deeply saddened" by the news and that it would not comment further.\n\n"We are aware of this situation and are working with our partners'}]}
2025-02-08 20:33:58,535 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:33:58,535 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>What I will do is help you become the best.\n\nI'm sure that's a lot of people who have read this and have been curious about what it means to be a good teacher, but I think that's just as much about how we teach ourselves as it is about how we teach"}]}
2025-02-08 20:34:12,459 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:34:12,459 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>With LINC it's simple and easy to create a simple, lightweight script that can be used in conjunction with any other script.\n\nThis is a very basic script that uses the standard python scripts and provides the following features:\n\nYou can use it as an interactive tool to test"}]}
2025-02-08 20:34:26,414 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:34:26,414 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The most remarkable thing about Michael Brown is not that. It's that the other side of the coin, the one who can't get a hold of anything, can't find it and it's got to be an issue. And so we have this big problem where we're all trying to figure out"}]}
2025-02-08 20:34:40,379 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:34:40,379 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The state-of-the-art design also combines stealth with superior aerodynamic efficiency and power to boot.\n\nIt's a pretty good deal, but I think it's fair to say that the overall performance of the bike is pretty good. It's very comfortable, and there are some things that you can do to improve it"}]}
2025-02-08 20:34:54,355 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:34:54,355 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>That widens the defense and eases the more important thing is that they're not all in a good place.\n\nThe same can be said about how these teams are playing right now. The San Francisco 49ers have been great, but they've also been terrible at trying to get out"}]}
2025-02-08 20:35:08,303 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:35:08,304 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>Congratulations, you made it to the end of the season and now you're in the middle of a playoff run.\n\nThe team that won the Super Bowl last year was one of those teams that has been playing at least half their games on Sunday nights. The Patriots"}]}
2025-02-08 20:35:22,211 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:35:22,211 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>There are adventures, choices, dangers and more.\n\nExplore the world of the world of the book with an adventure that will make you want to jump into your next adventure.\n\nFeatures:<|endoftext|>A rich story with many twists and turns. The characters are as diverse as they'}]}
2025-02-08 20:35:36,165 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:35:36,165 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>But I appreciate the art in which I\'m sure that you\'ll be surprised to learn that the whole "game" is a simulation of what happens when a human tries to survive on a planet without food and water.\n\nI mean, if you\'re going to play this game, it'}]}
2025-02-08 20:35:50,126 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:35:50,126 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>A blaze of orange lit up the crowd.\n\n"We\'re not going to be happy," said one man, "we\'re not going to be happy."\n\n"It\'s a lot of people here," said another man, "it\'s really hard for us to'}]}
2025-02-08 20:36:04,093 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:36:04,093 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>The shoot is lovely — exuberant, but not at all sadistic.\n\nAnd that\'s the thing about this whole "sadistic" thing, which is that it\'s a kind of cynical statement of what I\'m saying. It\'s like you\'re saying "I don'}]}
2025-02-08 20:36:18,063 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:36:18,063 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>Among the foremost activists of the PUCL&R, is a group of individuals who have been doing research on social media for years and are now in the process of writing a book about it.\n\nThe book is called The Social Media Revolution: A New Approach to Social Media Research. It'}]}
2025-02-08 20:36:31,336 [INFO] Show Hyperparameters: 


2025-02-08 20:36:31,336 [INFO]   task: sentiment
2025-02-08 20:36:31,336 [INFO]   layer: 4
2025-02-08 20:36:31,336 [INFO]   LLM: gpt2-small
2025-02-08 20:36:31,336 [INFO]   seed: 42
2025-02-08 20:36:31,336 [INFO]   data_size: -1
2025-02-08 20:36:31,336 [INFO]   device: cuda
2025-02-08 20:36:31,336 [INFO]   alpha: 203.0
2025-02-08 20:36:31,336 [INFO]   method: val_mul
2025-02-08 20:36:31,336 [INFO]   topk_mean: 100
2025-02-08 20:36:31,336 [INFO]   topk_cnt: 50
2025-02-08 20:36:31,336 [INFO]   batch_size: 32
2025-02-08 20:36:31,336 [INFO]   source: pos
2025-02-08 20:36:31,336 [INFO]   target: neg
2025-02-08 20:36:31,336 [INFO]   prompt_source: pos
2025-02-08 20:36:31,336 [INFO]   prompt_data_size: 500
2025-02-08 20:36:31,336 [INFO]   mean_type: dif_mean
2025-02-08 20:36:31,336 [INFO]   steer_type: last
2025-02-08 20:36:31,336 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:36:31,336 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:36:31,336 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:36:31,336 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:36:31,336 [INFO]   temperature: 0.9
2025-02-08 20:36:31,336 [INFO]   top_p: 0.3
2025-02-08 20:36:31,336 [INFO]   freq_penalty: 1.0
2025-02-08 20:36:31,336 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:36:31,336 [INFO]   debug: 0
2025-02-08 20:36:31,336 [INFO]   save_no_steer: 0
2025-02-08 20:36:31,336 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:36:31,336 [INFO]   use_cache: 0
2025-02-08 20:36:31,336 [INFO]   repeat_num: 1
2025-02-08 20:36:31,336 [INFO]   real_data_size_for_train: 1624
2025-02-08 22:48:03,244 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_4_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 22:48:03,244 [INFO] Show Hyperparameters: 


2025-02-08 22:48:03,244 [INFO]   task: sentiment
2025-02-08 22:48:03,244 [INFO]   layer: 4
2025-02-08 22:48:03,244 [INFO]   LLM: gpt2-small
2025-02-08 22:48:03,244 [INFO]   seed: 42
2025-02-08 22:48:03,244 [INFO]   data_size: -1
2025-02-08 22:48:03,244 [INFO]   device: cuda
2025-02-08 22:48:03,244 [INFO]   alpha: 203.0
2025-02-08 22:48:03,244 [INFO]   method: val_mul
2025-02-08 22:48:03,244 [INFO]   topk_mean: 100
2025-02-08 22:48:03,244 [INFO]   topk_cnt: 50
2025-02-08 22:48:03,244 [INFO]   batch_size: 32
2025-02-08 22:48:03,244 [INFO]   source: pos
2025-02-08 22:48:03,244 [INFO]   target: neg
2025-02-08 22:48:03,244 [INFO]   prompt_source: pos
2025-02-08 22:48:03,244 [INFO]   prompt_data_size: 500
2025-02-08 22:48:03,244 [INFO]   mean_type: dif_mean
2025-02-08 22:48:03,244 [INFO]   steer_type: last
2025-02-08 22:48:03,244 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 22:48:03,244 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:48:03,245 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:48:03,245 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 22:48:03,245 [INFO]   temperature: 0.9
2025-02-08 22:48:03,245 [INFO]   top_p: 0.3
2025-02-08 22:48:03,245 [INFO]   freq_penalty: 1.0
2025-02-08 22:48:03,245 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 22:48:03,245 [INFO]   debug: 0
2025-02-08 22:48:03,245 [INFO]   save_no_steer: 0
2025-02-08 22:48:03,245 [INFO]   is_norm_delta_matrix: 0
2025-02-08 22:48:03,245 [INFO]   use_cache: 0
2025-02-08 22:48:03,245 [INFO]   repeat_num: 1
2025-02-08 22:48:03,245 [INFO]   gen_batch_size: 16
2025-02-08 22:48:03,245 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 22:48:03,245 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:48:03,245 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 22:48:03,246 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 22:48:03,364 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 22:48:03,369 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 22:48:03,369 [INFO] Loading Model Loading SAE for layer 4 gpt2-small
2025-02-08 22:48:03,369 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 22:49:25,664 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
) GPT2TokenizerFast(name_or_path='gpt2', vocab_size=50257, model_max_length=1024, is_fast=True, padding_side='right', truncation_side='right', special_tokens={'bos_token': '<|endoftext|>', 'eos_token': '<|endoftext|>', 'unk_token': '<|endoftext|>', 'pad_token': '<|endoftext|>'}, clean_up_tokenization_spaces=False, added_tokens_decoder={
	50256: AddedToken("<|endoftext|>", rstrip=False, lstrip=False, single_word=False, normalized=True, special=True),
}
)
2025-02-08 22:49:25,664 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_4_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l4.pkl 不存在，缓存 steer_info
2025-02-08 22:49:25,682 [INFO] :>> Sentiment : from pos to neg
2025-02-08 22:49:25,693 [INFO] positive
2025-02-08 22:49:25,698 [INFO] Running model with cache to obtain hidden states
2025-02-08 22:49:27,472 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 22:49:27,473 [INFO] negative
2025-02-08 22:49:27,484 [INFO] Running model with cache to obtain hidden states
2025-02-08 22:49:29,387 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 22:49:29,389 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_4_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l4.pkl
2025-02-08 22:49:29,398 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 22:49:29,425 [INFO] sae cfg.hook_name 挂载名称: blocks.4.hook_resid_pre
2025-02-08 22:49:29,428 [INFO] Example prompt: ['But the lack of financial aid would', ' I feel ']
2025-02-08 22:49:29,428 [INFO] Generating texts **without** steering... 
2025-02-08 22:49:29,430 [INFO] 无干预
2025-02-08 22:49:30,699 [INFO] 当前批次共处理2个prompt
2025-02-08 22:49:30,699 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 22:49:30,699 [INFO] 生成 1:  be even more problematic if it meant that those who were el...
2025-02-08 22:49:30,699 [INFO] 生成 2:  be a major blow to the Democratic Party, which has been str...
2025-02-08 22:49:30,699 [INFO] 生成 3:  have been a big blow to the White House.

The Obama adminis...
2025-02-08 22:49:30,699 [INFO] Prompt 2:  I feel ...
2025-02-08 22:49:30,699 [INFO] 生成 1: 

I feel like a kid in the middle of a big city.

The place ...
2025-02-08 22:49:30,700 [INFO] 生成 2: . I'm not a big fan of the new D3D11, but it's still a great...
2025-02-08 22:49:30,700 [INFO] 生成 3:  the pain of being a kid and having to live with my parents....
2025-02-08 22:49:30,700 [INFO] 干预之后的结果
2025-02-08 22:49:30,700 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 22:49:30,700 [INFO] ** Generating texts with steering... Target **
2025-02-08 22:49:30,700 [INFO] form pos to neg
2025-02-08 22:49:31,578 [INFO] 当前批次共处理2个prompt
2025-02-08 22:49:31,578 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 22:49:31,578 [INFO] 生成 1:  be "unfair" to a woman who was raped by her husband, she sa...
2025-02-08 22:49:31,578 [INFO] 生成 2:  have been a huge blow to the US economy, but it's not.

The...
2025-02-08 22:49:31,578 [INFO] 生成 3:  have to be made available to the public.

In a statement, t...
2025-02-08 22:49:31,578 [INFO] Prompt 2:  I feel ...
2025-02-08 22:49:31,578 [INFO] 生成 1:  of the day, but I am not sure what it is.

I'm not sure if ...
2025-02-08 22:49:31,578 [INFO] 生成 2:  the reason why they're not doing this is because they're no...
2025-02-08 22:49:31,578 [INFO] 生成 3:  (3)

(3) 3 2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 1...
2025-02-08 22:49:31,584 [INFO] Running on full data
2025-02-08 22:49:31,584 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 22:49:31,584 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:49:31,598 [INFO] prompt的极性是pos
2025-02-08 22:49:31,598 [INFO] Running with alpha: 203.0
2025-02-08 22:49:31,598 [INFO] Running with prompt_type: from pos to neg
2025-02-08 22:49:31,599 [WARNING] 截取prompt_datasize500
2025-02-08 22:49:32,547 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:32,548 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'generations': [{'text': '"It sticks true to a point where it\'s hard to get the hang of," he said. "But I think it\'s something that we\'ve got to do."\n\nThe U.S. has been in a war with North Korea since the 1950s, when'}]}
2025-02-08 22:49:33,477 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:33,477 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'generations': [{'text': 'I love hearing from you in the back of my mind, I am so glad that you are here. You have been a wonderful friend to me and I am so grateful for your help.\n\nNow if you want to go further, I would like to say thank you'}]}
2025-02-08 22:49:34,395 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:34,395 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'generations': [{'text': 'Moreover, we see the interest of our French friends "is not a problem" but "it is a problem that needs to be solved." And it\'s not just the politics of being on the right that is problematic. It\'s also about how we\'re perceived by others.\n\nIt\'s true'}]}
2025-02-08 22:49:35,275 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:35,275 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'generations': [{'text': "The artful play of dynamics and is also a member of the U.S. National Security Council's Counterterrorism Center, which is responsible for coordinating efforts to counter terrorism in the United States.\n\nThe CIA has provided $5 million to help fund a new field of research"}]}
2025-02-08 22:49:37,043 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:37,043 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'generations': [{'text': '"He spoke with such amazing passion even in of of the following two categories:\n\n1) the complete, unified, and absolute understanding of what is happening in the world. This is not a "list" or a list of everything that can happen, but rather an idea that has been'}]}
2025-02-08 22:49:37,871 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:37,871 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'generations': [{'text': "It proved an enlightening experience, though he was, as I have said before, not a particularly good book. But it is one of the best books I've read in a long time. And if you are looking for something that will help you with your day-to-day life and also"}]}
2025-02-08 22:49:38,645 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:38,645 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'generations': [{'text': '"You are my favorite person in the is a problem. I don\'t know if it\'s a lack of energy or just some other thing, but I\'m pretty sure that\'s the reason why they\'re here."\n\nShe looked at him with wide eyes and his expression was serious.'}]}
2025-02-08 22:49:39,547 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:39,548 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'generations': [{'text': 'This group includes multiple chemists and, more importantly, to the world as a whole.\n\n"We\'re going to be looking at what\'s happening in the next few years with this kind of technology," said senior scientist Dr. Paul Whelan from the University of California,'}]}
2025-02-08 22:49:41,185 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:41,185 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'generations': [{'text': "This is the enduring image of Craig Biggio: sitting-in protests over food safety\n\nThe protests have been a major cause for concern in recent weeks, with some people claiming that food safety is being threatened by protesters.\n\nBut this week's protest was far from isolated. The Food and Drug"}]}
2025-02-08 22:49:42,067 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:42,067 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'generations': [{'text': 'ONCE again, the Seattle Hempfest drew tens of\n\n"I\'m a sucker for that stuff," said\n\nJackie. "I love it when you get to know me and I like to see what\'s going on in my life."\n\n\nThe two have been friends since high school'}]}
2025-02-08 22:49:42,907 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:42,907 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'generations': [{'text': "With our assortment of whimsical tea's are not only more efficient, but also have better health.\n\nIt's a fact that when we take care of ourselves, we are more likely to have a good time. And when we take care of ourselves, we're less likely to"}]}
2025-02-08 22:49:43,684 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:43,684 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'generations': [{'text': 'People from every neighbourhood in London came to our for the future.\n\nThe team of experts at the University of California, Berkeley, have developed a new way to measure and predict the future of climate change. They use a method called "model-based modeling" that combines data from multiple sources'}]}
2025-02-08 22:49:45,235 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:45,235 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'generations': [{'text': 'Home Affairs Minister Peter Dutton praised the efforts and resources of the police, who are trained to deal with people who are in a vulnerable position.\n\nThe Department for Communities and Local Government said it was committed to working with local authorities to tackle homelessness and homelessness in its area.\n\n"'}]}
2025-02-08 22:49:46,011 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:46,011 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'generations': [{'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from, the Baltimore Orioles have announced that they have signed free agent outfielder Ryan Zimmerman to a minor league contract.\n\nZimmerman, 23, has been with the Orioles since 2010 and spent most of his time in the minors with Triple-A Charleston'}]}
2025-02-08 22:49:46,792 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:46,792 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'generations': [{'text': 'What I will do is help you become the best and most important thing to do is to understand what you are doing and how it works.\n\nThe first thing that I want to say about this article is that if you read it, you probably already know what I am talking about. You probably'}]}
2025-02-08 22:49:47,719 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:47,719 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'generations': [{'text': "With LINC it's simple and easy the point is to get a good idea of what you're doing, how you're doing it, what you're trying to accomplish.\n\nThe problem with this approach is that it's not always clear which way to go. It can be hard"}]}
2025-02-08 22:49:49,408 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:49,408 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'generations': [{'text': 'The most remarkable thing about Michael Brown is not that.\n\nIt\'s a strange fact of life, but one that makes it worth remembering.\n\nThis is the second time in as many years that I\'ve been asked to write about something so trivial as "the little guy." And yet,'}]}
2025-02-08 22:49:50,410 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:50,410 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'generations': [{'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency, and the ability to reduce noise in a room that is used for a large number of applications.\n\nIn this article we will look at the various ways in which different technologies can be used to achieve these goals. We will also discuss how each'}]}
2025-02-08 22:49:51,227 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:51,227 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'generations': [{'text': "That widens the defense and eases the to that which is not there.\n\nAnd so I think it's important to look at what we're doing in terms of what we're doing in terms of how we're going to do it. We've got a couple of big changes coming"}]}
2025-02-08 22:49:52,068 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:52,068 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'generations': [{'text': "Congratulations, you made\n\nWe're sorry, but we can't provide you with any additional information. Please contact us at support@craigslist.org for more information.\n\nPlease note that this is a listing of the items that will be offered to our"}]}
2025-02-08 22:49:53,829 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:53,829 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'generations': [{'text': "There are adventures, choices, dangers, things that happened.\n\nThe world of Dark Souls is a strange place. It's a world where you can choose to be the best at your job or the worst at your job. You can choose to be an evil knight or a knight"}]}
2025-02-08 22:49:54,772 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:54,772 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'generations': [{'text': "But I appreciate the art in which I, as a child, was fascinated by how children's books were made. It was my first experience with children's books and it taught me that there are things to be learned from them and that they can be used to help us learn.\n\n"}]}
2025-02-08 22:49:55,564 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:55,564 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'generations': [{'text': 'A blaze of orange lit up to 30 feet high and weigh as much as 100 tons.\n\nThe blast was so severe that it left a hole in the roof of the building, which was evacuated on Monday.\n\nIt is unclear how many people were injured, but authorities'}]}
2025-02-08 22:49:56,394 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:56,394 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'generations': [{'text': "The shoot is lovely — exuberant, but it's not like he was just trying to make a point. He was trying to get people to stop watching him.\n\nAnd that's where the video comes in. It's a clip of an interview with The New York Times'"}]}
2025-02-08 22:49:58,071 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:49:58,071 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'generations': [{'text': 'Among the foremost activists of the PUCL& for the first time, in a post on his blog, he says that "the only way to make it work is to make it more interesting."\n\nHe goes on to say that if you want to have a "serious conversation about what\'s'}]}
2025-02-08 22:49:58,811 [INFO] Show Hyperparameters: 


2025-02-08 22:49:58,811 [INFO]   task: sentiment
2025-02-08 22:49:58,811 [INFO]   layer: 4
2025-02-08 22:49:58,811 [INFO]   LLM: gpt2-small
2025-02-08 22:49:58,811 [INFO]   seed: 42
2025-02-08 22:49:58,811 [INFO]   data_size: -1
2025-02-08 22:49:58,811 [INFO]   device: cuda
2025-02-08 22:49:58,811 [INFO]   alpha: 203.0
2025-02-08 22:49:58,811 [INFO]   method: val_mul
2025-02-08 22:49:58,811 [INFO]   topk_mean: 100
2025-02-08 22:49:58,811 [INFO]   topk_cnt: 50
2025-02-08 22:49:58,811 [INFO]   batch_size: 32
2025-02-08 22:49:58,811 [INFO]   source: pos
2025-02-08 22:49:58,811 [INFO]   target: neg
2025-02-08 22:49:58,811 [INFO]   prompt_source: pos
2025-02-08 22:49:58,811 [INFO]   prompt_data_size: 500
2025-02-08 22:49:58,811 [INFO]   mean_type: dif_mean
2025-02-08 22:49:58,811 [INFO]   steer_type: last
2025-02-08 22:49:58,811 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 22:49:58,811 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:49:58,811 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:49:58,811 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 22:49:58,811 [INFO]   temperature: 0.9
2025-02-08 22:49:58,811 [INFO]   top_p: 0.3
2025-02-08 22:49:58,811 [INFO]   freq_penalty: 1.0
2025-02-08 22:49:58,811 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 22:49:58,811 [INFO]   debug: 0
2025-02-08 22:49:58,811 [INFO]   save_no_steer: 0
2025-02-08 22:49:58,811 [INFO]   is_norm_delta_matrix: 0
2025-02-08 22:49:58,811 [INFO]   use_cache: 0
2025-02-08 22:49:58,811 [INFO]   repeat_num: 1
2025-02-08 22:49:58,811 [INFO]   gen_batch_size: 16
2025-02-08 22:49:58,811 [INFO]   real_data_size_for_train: 1624
