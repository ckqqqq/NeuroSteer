2025-02-08 20:14:27,739 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 20:14:27,739 [INFO] Show Hyperparameters: 


2025-02-08 20:14:27,739 [INFO]   task: sentiment
2025-02-08 20:14:27,739 [INFO]   layer: 2
2025-02-08 20:14:27,739 [INFO]   LLM: gpt2-small
2025-02-08 20:14:27,739 [INFO]   seed: 42
2025-02-08 20:14:27,740 [INFO]   data_size: -1
2025-02-08 20:14:27,740 [INFO]   device: cuda
2025-02-08 20:14:27,740 [INFO]   alpha: 203.0
2025-02-08 20:14:27,740 [INFO]   method: val_mul
2025-02-08 20:14:27,740 [INFO]   topk_mean: 100
2025-02-08 20:14:27,740 [INFO]   topk_cnt: 50
2025-02-08 20:14:27,740 [INFO]   batch_size: 32
2025-02-08 20:14:27,740 [INFO]   source: pos
2025-02-08 20:14:27,740 [INFO]   target: neg
2025-02-08 20:14:27,740 [INFO]   prompt_source: pos
2025-02-08 20:14:27,740 [INFO]   prompt_data_size: 500
2025-02-08 20:14:27,740 [INFO]   mean_type: dif_mean
2025-02-08 20:14:27,740 [INFO]   steer_type: last
2025-02-08 20:14:27,740 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:14:27,740 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:14:27,740 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:14:27,740 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:14:27,740 [INFO]   temperature: 0.9
2025-02-08 20:14:27,740 [INFO]   top_p: 0.3
2025-02-08 20:14:27,740 [INFO]   freq_penalty: 1.0
2025-02-08 20:14:27,740 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:14:27,740 [INFO]   debug: 0
2025-02-08 20:14:27,740 [INFO]   save_no_steer: 0
2025-02-08 20:14:27,740 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:14:27,740 [INFO]   use_cache: 0
2025-02-08 20:14:27,740 [INFO]   repeat_num: 1
2025-02-08 20:14:27,740 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 20:14:27,741 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:14:27,741 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 20:14:27,741 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 20:14:27,839 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 20:14:27,843 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 20:14:27,844 [INFO] Loading Model Loading SAE for layer 2 gpt2-small
2025-02-08 20:14:27,844 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 20:15:39,924 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
)
2025-02-08 20:15:39,924 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l2.pkl 不存在，缓存 steer_info
2025-02-08 20:15:39,946 [INFO] :>> Sentiment : from pos to neg
2025-02-08 20:15:39,960 [INFO] positive
2025-02-08 20:15:39,966 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:15:41,712 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:15:41,712 [INFO] negative
2025-02-08 20:15:41,725 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:15:43,716 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:15:43,718 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l2.pkl
2025-02-08 20:15:43,730 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 20:15:43,758 [INFO] sae cfg.hook_name 挂载名称: blocks.2.hook_resid_pre
2025-02-08 20:15:43,761 [INFO] Example prompt: But the lack of financial aid would
2025-02-08 20:15:43,761 [INFO] Generating texts **without** steering... 
2025-02-08 20:15:43,763 [INFO] 无干预
2025-02-08 20:15:44,996 [INFO] prompt:*****
But the lack of financial aid would
2025-02-08 20:15:44,996 [INFO] 包含prompt的完整输出: 1:
<|endoftext|>But the lack of financial aid would be a huge blow to a state that has been trying to build its reputation as one of the most progressive states in the nation.

"It's going to be very hard for us," said Tom Keating, president of the National Association of
2025-02-08 20:15:44,996 [INFO] 包含prompt的完整输出: 2:
<|endoftext|>But the lack of financial aid would mean that the United States would be unable to afford the medical care needed to treat a child with autism, according to a report released Wednesday by Autism Speaks.

The report, which was released in conjunction with Autism Speaks and other advocacy groups
2025-02-08 20:15:44,996 [INFO] 包含prompt的完整输出: 3:
<|endoftext|>But the lack of financial aid would be even more devastating for those who are already struggling to pay their bills.

"It's going to take a lot of money," said Robert Noyes, president of the National Association of Community Organizations for Social Services. "It's going
2025-02-08 20:15:44,997 [INFO] 干预之后的结果
2025-02-08 20:15:44,997 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 20:15:44,997 [INFO] ** Generating texts with steering... Target **
2025-02-08 20:15:44,997 [INFO] form pos to neg
2025-02-08 20:15:45,876 [INFO] prompt:*****
But the lack of financial aid would
2025-02-08 20:15:45,877 [INFO] 包含prompt的完整输出: 1:
<|endoftext|>But the lack of financial aid would have been a lot easier.

The second part of this article is about how to use and understand Google's search engine. The third part is about how to use and understand Google's data center system. The fourth part is about how to use
2025-02-08 20:15:45,877 [INFO] 包含prompt的完整输出: 2:
<|endoftext|>But the lack of financial aid would be great to see some more of these guys back in action.

And if you're wondering why we don't have any more "revolving doors" on the season, here's a quick rundown:

The Vikings will play their
2025-02-08 20:15:45,877 [INFO] 包含prompt的完整输出: 3:
<|endoftext|>But the lack of financial aid would be to do it all over again.

This is a great opportunity for us to work together and get back on track. We are looking forward to working with you and your team in the coming weeks.<|endoftext|>The next few days will be dedicated
2025-02-08 20:15:45,881 [INFO] Running on full data
2025-02-08 20:15:45,881 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 20:15:45,881 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:15:45,894 [INFO] prompt的极性是pos
2025-02-08 20:15:45,894 [INFO] Running with alpha: 203.0
2025-02-08 20:15:45,894 [INFO] Running with prompt_type: from pos to neg
2025-02-08 20:15:45,896 [WARNING] 截取prompt_datasize500
2025-02-08 20:15:46,764 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:15:46,764 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"It sticks true to the question of whether a game is worth playing. The answer is no, because it\'s not.\n\nThe reason for this confusion is simple: the term "game" has been used to describe games that are played in real time, and that'}]}
2025-02-08 20:16:01,188 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:16:01,188 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>I love hearing from you know what I mean.\n\nSo, let\'s talk about the actual game and how it\'s been played. Let\'s start with the game itself.\n\nWhat is a "game"? A game is any kind of video game that involves multiple'}]}
2025-02-08 20:16:15,624 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:16:15,624 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>Moreover, we see the interest of our French friends and family.\n\nWe are a small family of three who love to play and enjoy the outdoors. We have been playing for about 2 years now and we love to do so. We have a very large backyard that is home to over 100 animals'}]}
2025-02-08 20:16:30,030 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:16:30,030 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The artful play of dynamics dynamics dynamics dynamics dynamic dynamic dynamic dynamic dynamic Dynamic Dynamic Dynamic Dynamic Dynamic Dynamic Dynamically, it's not that hard to get into the game. You just have to get your hands on a controller and do some basic stuff. The controls are pretty simple,"}]}
2025-02-08 20:16:44,423 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:16:44,424 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"He spoke with such amazing passion even in the last few years.\nI\'ve been a fan of James\' work for over a decade now, and I\'ve always been impressed by his ability to create something unique. His works are often both fascinating and entertaining, and I\'m sure that\'s'}]}
2025-02-08 20:16:58,808 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:16:58,808 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>It proved an enlightening experience, though he was a place where people could live and work. It was a place where the idea of 'being' was not something that had been discussed or discussed by anyone. It was a place where people could have their own lives and experiences.\n\nI think"}]}
2025-02-08 20:17:13,223 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:17:13,223 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"You are my favorite person in the that that that I think it\'s important to be able to do something about it.\n\nI think we\'re all very aware of how much we\'ve been hurt by this, and I think there\'s a lot of good things going on here.'}]}
2025-02-08 20:17:27,649 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:17:27,649 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>This group includes multiple chemists and and.\nIt's been a while since I've posted on this topic, but I'm finally getting around to posting it. So let's get started!\nFirst off, let me start by saying that I'm not going to lie about this"}]}
2025-02-08 20:17:42,083 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:17:42,083 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>This is the enduring image of Craig Biggio: sitting in a chair, looking at his phone. He\'s been waiting for this moment for years.\n\n"I\'m going to get this," he says, "and I\'m going to do it."\n\nHe\'s been waiting for this moment'}]}
2025-02-08 20:17:56,514 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:17:56,514 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>ONCE again, the Seattle Hempfest drew tens of of of of of of of Of Fortunate Son was that I would have to leave this place. I had to leave it. I had to leave it. I had to leave it. And then, as if by magic, a moment passed and'}]}
2025-02-08 20:18:10,883 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:18:10,883 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>With our assortment of whimsical tea is a great way to get started with your own tea.\n\nThis post will show you how to use the different types of tea in order to create a delicious and easy-to-use tea.\n\nHow To Use Tea In Order To'}]}
2025-02-08 20:18:25,267 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:18:25,267 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>People from every neighbourhood in London came to our our our our ours ours ours ours ours ours yours us we we we we we us us us us, or rather, the thing that is most important to you.\n\nThe first thing you will notice about this is that it's not a question"}]}
2025-02-08 20:18:39,650 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:18:39,650 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>Home Affairs Minister Peter Dutton praised the efforts to keep the church in its current state.\n"I\'m not going to be surprised if there\'s a change in the church," said St. Paul, who is one of only two pastors to have been ordained by Pope Francis. "I think'}]}
2025-02-08 20:18:54,011 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:18:54,011 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The Baltimore Orioles will promote first baseman Travis Ishikawa from the same point of view.\nThe other thing that's been interesting about this season is how much it has changed. It's not like we're going to be in a league where every player on the roster is a No. 1 pick, and"}]}
2025-02-08 20:19:08,420 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:19:08,420 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>What I will do is help you become the best.\nSo here's a little bit of background on what we're doing and what we're doing right now.\n\nWe've been working on this for a while now, but it's been really hard to get people involved in the project."}]}
2025-02-08 20:19:22,809 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:19:22,810 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>With LINC it\'s simple and easy way to start your day.\n\nI\'m going to be honest here, I don\'t know what you\'re thinking when you say "this is the best way to start your day". It\'s not that I\'m a big fan of this approach'}]}
2025-02-08 20:19:37,187 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:19:37,187 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The most remarkable thing about Michael Brown is not that's what happened.\nAnd it was the same with all of us who had been watching the game on TV for hours. We watched it from a distance, and we saw the people who were there in front of us in tears. And we were"}]}
2025-02-08 20:19:51,549 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:19:51,549 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The state-of-the-art design also combines stealth with superior aerodynamic efficiency rate (RDA) of a plane's wings. The RDA is calculated by multiplying the wing area by the wing thickness.\n\nIn order to calculate the RDA of a plane, you need to know how much wing area you have in"}]}
2025-02-08 20:20:05,993 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:20:05,993 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>That widens the defense and eases the all around greats of the game.\n\nBut I'm not going to go into all of that here. Instead, I'll focus on one thing that is really important to me:\n\n1) What do you think about being a head"}]}
2025-02-08 20:20:20,484 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:20:20,485 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>Congratulations, you made of this material.\n\nThe Art of Painting is a series of essays by Robert M. Lasseter on the art and design of painting. The essays are divided into three parts: (1) Introduction to Painting; (2) Introduction to'}]}
2025-02-08 20:20:34,870 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:20:34,870 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>There are adventures, choices, dangers\nYou can't tell the difference between a well-made book and a poorly made one. The best books are those that have been published in the past few years. They're not necessarily better than any other book you've ever read. And if"}]}
2025-02-08 20:20:49,316 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:20:49,316 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>But I appreciate the art in which I I I\n\nI'm not sure what to say about this, but it's definitely worth a listen. It's a great song and one that you'll hear on every record you buy. It's a great way to start your day off right"}]}
2025-02-08 20:21:03,744 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:21:03,744 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>A blaze of orange lit up.\nThe first time I saw this, I was a little surprised to see that it had been painted in a dark green color. It was definitely the most beautiful color on the planet, and it looked like it would be pretty much any other shade'}]}
2025-02-08 20:21:18,123 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:21:18,124 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The shoot is lovely — exuberant, alluring and seductive.\n\nAnd that's just the beginning of what we're going to do with this new piece of art. We're going to make it available for free online, so you can enjoy it as much as you want"}]}
2025-02-08 20:21:32,522 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:21:32,522 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>Among the foremost activists of the PUCL&&.\nThe real question is, how do we get there?\n\nI've been a fan of Andrew Breitbart's Twitter feed for a while now. He's always been an outspoken critic of Trump and his administration, and he has an incredible"}]}
2025-02-08 20:21:46,183 [INFO] Show Hyperparameters: 


2025-02-08 20:21:46,183 [INFO]   task: sentiment
2025-02-08 20:21:46,183 [INFO]   layer: 2
2025-02-08 20:21:46,183 [INFO]   LLM: gpt2-small
2025-02-08 20:21:46,183 [INFO]   seed: 42
2025-02-08 20:21:46,183 [INFO]   data_size: -1
2025-02-08 20:21:46,183 [INFO]   device: cuda
2025-02-08 20:21:46,183 [INFO]   alpha: 203.0
2025-02-08 20:21:46,184 [INFO]   method: val_mul
2025-02-08 20:21:46,184 [INFO]   topk_mean: 100
2025-02-08 20:21:46,184 [INFO]   topk_cnt: 50
2025-02-08 20:21:46,184 [INFO]   batch_size: 32
2025-02-08 20:21:46,184 [INFO]   source: pos
2025-02-08 20:21:46,184 [INFO]   target: neg
2025-02-08 20:21:46,184 [INFO]   prompt_source: pos
2025-02-08 20:21:46,184 [INFO]   prompt_data_size: 500
2025-02-08 20:21:46,184 [INFO]   mean_type: dif_mean
2025-02-08 20:21:46,184 [INFO]   steer_type: last
2025-02-08 20:21:46,184 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:21:46,184 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:21:46,184 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:21:46,184 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:21:46,184 [INFO]   temperature: 0.9
2025-02-08 20:21:46,184 [INFO]   top_p: 0.3
2025-02-08 20:21:46,184 [INFO]   freq_penalty: 1.0
2025-02-08 20:21:46,184 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:21:46,184 [INFO]   debug: 0
2025-02-08 20:21:46,184 [INFO]   save_no_steer: 0
2025-02-08 20:21:46,184 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:21:46,184 [INFO]   use_cache: 0
2025-02-08 20:21:46,184 [INFO]   repeat_num: 1
2025-02-08 20:21:46,184 [INFO]   real_data_size_for_train: 1624
2025-02-08 20:59:01,778 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 20:59:01,778 [INFO] Show Hyperparameters: 


2025-02-08 20:59:01,778 [INFO]   task: sentiment
2025-02-08 20:59:01,778 [INFO]   layer: 2
2025-02-08 20:59:01,778 [INFO]   LLM: gpt2-small
2025-02-08 20:59:01,778 [INFO]   seed: 42
2025-02-08 20:59:01,778 [INFO]   data_size: -1
2025-02-08 20:59:01,778 [INFO]   device: cuda
2025-02-08 20:59:01,778 [INFO]   alpha: 203.0
2025-02-08 20:59:01,778 [INFO]   method: val_mul
2025-02-08 20:59:01,778 [INFO]   topk_mean: 100
2025-02-08 20:59:01,779 [INFO]   topk_cnt: 50
2025-02-08 20:59:01,779 [INFO]   batch_size: 32
2025-02-08 20:59:01,779 [INFO]   source: pos
2025-02-08 20:59:01,779 [INFO]   target: neg
2025-02-08 20:59:01,779 [INFO]   prompt_source: pos
2025-02-08 20:59:01,779 [INFO]   prompt_data_size: 500
2025-02-08 20:59:01,779 [INFO]   mean_type: dif_mean
2025-02-08 20:59:01,779 [INFO]   steer_type: last
2025-02-08 20:59:01,779 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:59:01,779 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:59:01,779 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:59:01,779 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:59:01,779 [INFO]   temperature: 0.9
2025-02-08 20:59:01,779 [INFO]   top_p: 0.3
2025-02-08 20:59:01,779 [INFO]   freq_penalty: 1.0
2025-02-08 20:59:01,779 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:59:01,779 [INFO]   debug: 0
2025-02-08 20:59:01,779 [INFO]   save_no_steer: 0
2025-02-08 20:59:01,779 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:59:01,779 [INFO]   use_cache: 0
2025-02-08 20:59:01,779 [INFO]   repeat_num: 1
2025-02-08 20:59:01,779 [INFO]   gen_batch_size: 16
2025-02-08 20:59:01,779 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 20:59:01,779 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:59:01,780 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 20:59:01,780 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 20:59:01,877 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 20:59:01,881 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 20:59:01,881 [INFO] Loading Model Loading SAE for layer 2 gpt2-small
2025-02-08 20:59:01,882 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 21:12:45,154 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 21:12:45,154 [INFO] Show Hyperparameters: 


2025-02-08 21:12:45,154 [INFO]   task: sentiment
2025-02-08 21:12:45,154 [INFO]   layer: 2
2025-02-08 21:12:45,154 [INFO]   LLM: gpt2-small
2025-02-08 21:12:45,154 [INFO]   seed: 42
2025-02-08 21:12:45,154 [INFO]   data_size: -1
2025-02-08 21:12:45,154 [INFO]   device: cuda
2025-02-08 21:12:45,154 [INFO]   alpha: 203.0
2025-02-08 21:12:45,154 [INFO]   method: val_mul
2025-02-08 21:12:45,154 [INFO]   topk_mean: 100
2025-02-08 21:12:45,154 [INFO]   topk_cnt: 50
2025-02-08 21:12:45,154 [INFO]   batch_size: 32
2025-02-08 21:12:45,154 [INFO]   source: pos
2025-02-08 21:12:45,154 [INFO]   target: neg
2025-02-08 21:12:45,154 [INFO]   prompt_source: pos
2025-02-08 21:12:45,154 [INFO]   prompt_data_size: 500
2025-02-08 21:12:45,154 [INFO]   mean_type: dif_mean
2025-02-08 21:12:45,154 [INFO]   steer_type: last
2025-02-08 21:12:45,154 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 21:12:45,154 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:12:45,154 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 21:12:45,155 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 21:12:45,155 [INFO]   temperature: 0.9
2025-02-08 21:12:45,155 [INFO]   top_p: 0.3
2025-02-08 21:12:45,155 [INFO]   freq_penalty: 1.0
2025-02-08 21:12:45,155 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 21:12:45,155 [INFO]   debug: 0
2025-02-08 21:12:45,155 [INFO]   save_no_steer: 0
2025-02-08 21:12:45,155 [INFO]   is_norm_delta_matrix: 0
2025-02-08 21:12:45,155 [INFO]   use_cache: 0
2025-02-08 21:12:45,155 [INFO]   repeat_num: 1
2025-02-08 21:12:45,155 [INFO]   gen_batch_size: 16
2025-02-08 21:12:45,155 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 21:12:45,155 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:12:45,155 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 21:12:45,156 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 21:12:45,275 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 21:12:45,280 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 21:12:45,280 [INFO] Loading Model Loading SAE for layer 2 gpt2-small
2025-02-08 21:12:45,280 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 21:12:47,204 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
)
2025-02-08 21:12:47,204 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l2.pkl 不存在，缓存 steer_info
2025-02-08 21:12:47,221 [INFO] :>> Sentiment : from pos to neg
2025-02-08 21:12:47,233 [INFO] positive
2025-02-08 21:12:47,238 [INFO] Running model with cache to obtain hidden states
2025-02-08 21:12:49,181 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 21:12:49,181 [INFO] negative
2025-02-08 21:12:49,195 [INFO] Running model with cache to obtain hidden states
2025-02-08 21:12:51,193 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 21:12:51,195 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l2.pkl
2025-02-08 21:12:51,203 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 21:12:51,224 [INFO] sae cfg.hook_name 挂载名称: blocks.2.hook_resid_pre
2025-02-08 21:12:51,227 [INFO] Example prompt: ['But the lack of financial aid would', ' I feel ']
2025-02-08 21:12:51,227 [INFO] Generating texts **without** steering... 
2025-02-08 21:12:51,229 [INFO] 无干预
2025-02-08 21:12:52,500 [INFO] 当前批次共处理2个prompt
2025-02-08 21:12:52,500 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 21:12:52,500 [INFO] 生成 1: ial aid would mean that the government would have to pay for...
2025-02-08 21:12:52,500 [INFO] 生成 2: ial aid would have been a huge blow to Mr. Obama's campaign,...
2025-02-08 21:12:52,500 [INFO] 生成 3: ial aid would mean that some students would have to take up ...
2025-02-08 21:12:52,500 [INFO] Prompt 2:  I feel ...
2025-02-08 21:12:52,500 [INFO] 生成 1: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:52,500 [INFO] 生成 2: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:52,500 [INFO] 生成 3: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:52,500 [INFO] 干预之后的结果
2025-02-08 21:12:52,500 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 21:12:52,500 [INFO] ** Generating texts with steering... Target **
2025-02-08 21:12:52,500 [INFO] form pos to neg
2025-02-08 21:12:53,396 [INFO] 当前批次共处理2个prompt
2025-02-08 21:12:53,396 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 21:12:53,396 [INFO] 生成 1: ial aid would be great if we could all just go out and buy a...
2025-02-08 21:12:53,396 [INFO] 生成 2: ial aid would be great to see a new look at the past.

The 2...
2025-02-08 21:12:53,396 [INFO] 生成 3: ial aid would have been impossible without the help of my fr...
2025-02-08 21:12:53,396 [INFO] Prompt 2:  I feel ...
2025-02-08 21:12:53,396 [INFO] 生成 1: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:53,396 [INFO] 生成 2: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:53,396 [INFO] 生成 3: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:53,401 [INFO] Running on full data
2025-02-08 21:12:53,401 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 21:12:53,401 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 21:12:53,416 [INFO] prompt的极性是pos
2025-02-08 21:12:53,416 [INFO] Running with alpha: 203.0
2025-02-08 21:12:53,416 [INFO] Running with prompt_type: from pos to neg
2025-02-08 21:12:53,417 [WARNING] 截取prompt_datasize500
2025-02-08 21:12:54,353 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:54,354 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>"It sticks true to<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>\nI\'m not going to lie, I was very surprised when I saw the trailer for this game. It\'s a great game and it\'s really fun. It has a lot of things going on in it that you don\'t get with other games'}]}
2025-02-08 21:12:55,205 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:55,205 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>I love hearing from you<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> the the I have been playing with my guitar for a while now and it is a great instrument. I've played it for about 2 years now and it has become my go to. The bass is very nice, but not so good that I would"}]}
2025-02-08 21:12:55,978 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:55,978 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>Moreover, we see the interest of our French friends<|endoftext|><|endoftext|><|endoftext|>---\n"I am sorry for the inconvenience you have caused me. I have a great deal to do and I will be doing it all over again."\n\n"You are not welcome here. You are not welcome here."\n\n'}]}
2025-02-08 21:12:56,754 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:56,754 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>The artful play of dynamics<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>, and the other side of the world.\n\nThis is a list of games that I have played with my friends and family. I have also tried to include some games that I have never played before, but haven't been able to find any"}]}
2025-02-08 21:12:58,301 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:58,301 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>"He spoke with such amazing passion even in<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> to to, to and so on.\n\nBut what about the other side? The whole thing is a mess. And it\'s not just the issue of the game being too long or too short that\'s causing problems. It\'s also that it'}]}
2025-02-08 21:12:59,074 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:59,074 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>It proved an enlightening experience, though he was<|endoftext|> a a b b c d e f f g g h h i i i i j j k l l m m n o p r s t u v w x y z 1 2 3 4 5 6 7 8 9 10 11 12 13 14'}]}
2025-02-08 21:12:59,853 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:59,853 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>"You are my favorite person in the<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and.\nThe long-awaited sequel to the acclaimed Star Wars: The Force Awakens, Rogue One: A New Hope, is now available for pre-order on Amazon.com. The first chapter of the book will be released in October 2016'}]}
2025-02-08 21:13:00,630 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:00,630 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>This group includes multiple chemists and<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>\nIt's been a while since I've posted about this topic, but I wanted to share with you some of the highlights from my recent post.\n\nI'm going to start by talking about how my work has changed over the years. In"}]}
2025-02-08 21:13:02,244 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:02,244 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>This is the enduring image of Craig Biggio: sitting<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>\nI've been reading a lot about how to make it work for your game. I'm going to start with the basics, and then move on to more advanced things like how to create an online world, and how to make your own game."}]}
2025-02-08 21:13:03,181 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:03,181 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>ONCE again, the Seattle Hempfest drew tens of<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>,,,.\nI have been a part of the Portland Trail Blazers for over 20 years and I am very proud to be a part of this great city. I am proud to be an Oregon native and I am proud to be a member of'}]}
2025-02-08 21:13:03,981 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:03,981 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>With our assortment of whimsical tea<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>.\nI'm not sure if this is a good thing or not, but I do think it's important to keep in mind that the game has no such limitations. The fact that you can play as any character and get free access to your character"}]}
2025-02-08 21:13:04,821 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:04,821 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>People from every neighbourhood in London came to our<|endoftext|><|endoftext|><|endoftext|> a a b a c d e f g h i j k l m n o p q r s t u v w x y z 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22'}]}
2025-02-08 21:13:06,404 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:06,404 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>Home Affairs Minister Peter Dutton praised the efforts<|endoftext|><|endoftext|> to get a job.\nAnd now, after years of work, we're finally getting our first real look at the new law that will make it easier for employers to fire people who don't meet certain criteria.\n\nThe new law is called"}]}
2025-02-08 21:13:07,243 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:07,243 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>The Baltimore Orioles will promote first baseman Travis Ishikawa from<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>,, and all the other good things about the Orioles.\n\nBut here's the thing: They're not just bad. They're bad because they don't have a good manager. And they're bad because they don't have a good team"}]}
2025-02-08 21:13:08,064 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:08,065 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>What I will do is help you become the best<|endoftext|><|endoftext|>-----\n\nThis week, we're going to take a look at the history of The Walking Dead. We'll be talking about the first season and how it came to be. We'll also talk about what it means for The"}]}
2025-02-08 21:13:08,894 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:08,894 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>With LINC it's simple and easy<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> of of of of of of of Of The Earth And The Moon And Of The Sun And Of The Moon And Of The Sun And Of The Sun And Of The Sun And Of The Moon And Of the Sun And Of the Moon But I Will Not Be"}]}
2025-02-08 21:13:10,567 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:10,567 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>The most remarkable thing about Michael Brown is not that<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and.\nI've always been a fan of the game, but I've never really had the time to play it. I'm just so happy to be back in this game again. It's been such a long time since I played with"}]}
2025-02-08 21:13:11,515 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:11,516 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>The state-of-the-art design also combines stealth with superior aerodynamic efficiency\n*All data are from the latest version of Adobe Flash Player.\n\nThis is a small and simple update to Adobe Flash Player that will allow you to play your favorite games in an easy way. The new version of Adobe Flash Player comes with'}]}
2025-02-08 21:13:12,448 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:12,448 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>That widens the defense and eases the<|endoftext|><|endoftext|> and and . . I mean, you know, it's not like we're going to have a big game. We're going to have a big game. But it's not like we're going to be able to go out there and do some"}]}
2025-02-08 21:13:13,384 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:13,384 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>Congratulations, you made<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>.\n"It\'s just a matter of time before the world gets to know me," he said. "I\'m going to be here for a long time."\n\nHe was one of the first people to join an online petition calling for him'}]}
2025-02-08 21:13:15,057 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:15,057 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>There are adventures, choices, dangers<|endoftext|><|endoftext|><|endoftext|><|endoftext|> to to to\n\nTo be honest I'm not sure what the hell is going on here. I'm just a guy who's been doing this for years and has never had any problems with it. But there's a little bit of truth in"}]}
2025-02-08 21:13:15,988 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:15,988 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>But I appreciate the art in which I<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>-\nThe Walking Dead Season 2 Trailer\n\nby Andrew D. Romero, Mark R. Trevino, and Ben Kuchera\n\n\nIn this episode of The Walking Dead Season 2, we get to see what it's like to"}]}
2025-02-08 21:13:16,766 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:16,766 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>A blaze of orange lit up<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> in the end.\nI've been a fan of JK Rowling's Harry Potter series for a while now, and I'm excited to see what she has next.\n\nI've been a fan of JK Rowling's Harry Potter series for"}]}
2025-02-08 21:13:17,591 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:17,591 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>The shoot is lovely — exuberant<|endoftext|><|endoftext|><|endoftext|><|endoftext|>\nA friend of mine, who I've known for years, recently had a conversation with him about his new book. He said that he wanted to write about how the world works and how it's not all just one big thing. It's not"}]}
2025-02-08 21:13:19,332 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:13:19,332 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>Among the foremost activists of the PUCL&<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and.\nI've been writing about this for a while now, but I'm not sure if it's worth revisiting.\n\nThe issue is that there are two main ways to look at this: first, there are many different ways"}]}
2025-02-08 21:13:20,065 [INFO] Show Hyperparameters: 


2025-02-08 21:13:20,065 [INFO]   task: sentiment
2025-02-08 21:13:20,065 [INFO]   layer: 2
2025-02-08 21:13:20,065 [INFO]   LLM: gpt2-small
2025-02-08 21:13:20,065 [INFO]   seed: 42
2025-02-08 21:13:20,065 [INFO]   data_size: -1
2025-02-08 21:13:20,065 [INFO]   device: cuda
2025-02-08 21:13:20,065 [INFO]   alpha: 203.0
2025-02-08 21:13:20,065 [INFO]   method: val_mul
2025-02-08 21:13:20,065 [INFO]   topk_mean: 100
2025-02-08 21:13:20,065 [INFO]   topk_cnt: 50
2025-02-08 21:13:20,065 [INFO]   batch_size: 32
2025-02-08 21:13:20,065 [INFO]   source: pos
2025-02-08 21:13:20,065 [INFO]   target: neg
2025-02-08 21:13:20,065 [INFO]   prompt_source: pos
2025-02-08 21:13:20,065 [INFO]   prompt_data_size: 500
2025-02-08 21:13:20,066 [INFO]   mean_type: dif_mean
2025-02-08 21:13:20,066 [INFO]   steer_type: last
2025-02-08 21:13:20,066 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 21:13:20,066 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:13:20,066 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 21:13:20,066 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 21:13:20,066 [INFO]   temperature: 0.9
2025-02-08 21:13:20,066 [INFO]   top_p: 0.3
2025-02-08 21:13:20,066 [INFO]   freq_penalty: 1.0
2025-02-08 21:13:20,066 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 21:13:20,066 [INFO]   debug: 0
2025-02-08 21:13:20,066 [INFO]   save_no_steer: 0
2025-02-08 21:13:20,066 [INFO]   is_norm_delta_matrix: 0
2025-02-08 21:13:20,066 [INFO]   use_cache: 0
2025-02-08 21:13:20,066 [INFO]   repeat_num: 1
2025-02-08 21:13:20,066 [INFO]   gen_batch_size: 16
2025-02-08 21:13:20,066 [INFO]   real_data_size_for_train: 1624
2025-02-08 22:44:04,668 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 22:44:04,668 [INFO] Show Hyperparameters: 


2025-02-08 22:44:04,668 [INFO]   task: sentiment
2025-02-08 22:44:04,668 [INFO]   layer: 2
2025-02-08 22:44:04,669 [INFO]   LLM: gpt2-small
2025-02-08 22:44:04,669 [INFO]   seed: 42
2025-02-08 22:44:04,669 [INFO]   data_size: -1
2025-02-08 22:44:04,669 [INFO]   device: cuda
2025-02-08 22:44:04,669 [INFO]   alpha: 203.0
2025-02-08 22:44:04,669 [INFO]   method: val_mul
2025-02-08 22:44:04,669 [INFO]   topk_mean: 100
2025-02-08 22:44:04,669 [INFO]   topk_cnt: 50
2025-02-08 22:44:04,669 [INFO]   batch_size: 32
2025-02-08 22:44:04,669 [INFO]   source: pos
2025-02-08 22:44:04,669 [INFO]   target: neg
2025-02-08 22:44:04,669 [INFO]   prompt_source: pos
2025-02-08 22:44:04,669 [INFO]   prompt_data_size: 500
2025-02-08 22:44:04,669 [INFO]   mean_type: dif_mean
2025-02-08 22:44:04,669 [INFO]   steer_type: last
2025-02-08 22:44:04,669 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 22:44:04,669 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:44:04,669 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:44:04,669 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 22:44:04,669 [INFO]   temperature: 0.9
2025-02-08 22:44:04,669 [INFO]   top_p: 0.3
2025-02-08 22:44:04,669 [INFO]   freq_penalty: 1.0
2025-02-08 22:44:04,669 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 22:44:04,669 [INFO]   debug: 0
2025-02-08 22:44:04,669 [INFO]   save_no_steer: 0
2025-02-08 22:44:04,669 [INFO]   is_norm_delta_matrix: 0
2025-02-08 22:44:04,669 [INFO]   use_cache: 0
2025-02-08 22:44:04,669 [INFO]   repeat_num: 1
2025-02-08 22:44:04,669 [INFO]   gen_batch_size: 16
2025-02-08 22:44:04,670 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 22:44:04,670 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:44:04,670 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 22:44:04,670 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 22:44:04,767 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 22:44:04,771 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 22:44:04,771 [INFO] Loading Model Loading SAE for layer 2 gpt2-small
2025-02-08 22:44:04,771 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 22:45:26,961 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
) GPT2TokenizerFast(name_or_path='gpt2', vocab_size=50257, model_max_length=1024, is_fast=True, padding_side='right', truncation_side='right', special_tokens={'bos_token': '<|endoftext|>', 'eos_token': '<|endoftext|>', 'unk_token': '<|endoftext|>', 'pad_token': '<|endoftext|>'}, clean_up_tokenization_spaces=False, added_tokens_decoder={
	50256: AddedToken("<|endoftext|>", rstrip=False, lstrip=False, single_word=False, normalized=True, special=True),
}
)
2025-02-08 22:45:26,962 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l2.pkl 不存在，缓存 steer_info
2025-02-08 22:45:26,979 [INFO] :>> Sentiment : from pos to neg
2025-02-08 22:45:26,990 [INFO] positive
2025-02-08 22:45:26,995 [INFO] Running model with cache to obtain hidden states
2025-02-08 22:45:28,837 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 22:45:28,837 [INFO] negative
2025-02-08 22:45:28,849 [INFO] Running model with cache to obtain hidden states
2025-02-08 22:45:30,774 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 22:45:30,777 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_2_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l2.pkl
2025-02-08 22:45:30,786 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 22:45:30,807 [INFO] sae cfg.hook_name 挂载名称: blocks.2.hook_resid_pre
2025-02-08 22:45:30,810 [INFO] Example prompt: ['But the lack of financial aid would', ' I feel ']
2025-02-08 22:45:30,810 [INFO] Generating texts **without** steering... 
2025-02-08 22:45:30,812 [INFO] 无干预
2025-02-08 22:45:32,087 [INFO] 当前批次共处理2个prompt
2025-02-08 22:45:32,087 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 22:45:32,087 [INFO] 生成 1:  mean that most Americans would not be able to afford a coll...
2025-02-08 22:45:32,087 [INFO] 生成 2:  have made it difficult for a student to attend college, and...
2025-02-08 22:45:32,087 [INFO] 生成 3:  have made it harder for him to move forward.

"I'm not sure...
2025-02-08 22:45:32,087 [INFO] Prompt 2:  I feel ...
2025-02-08 22:45:32,087 [INFO] 生成 1: . I feel like it's a lot of work to be a teacher, but it's w...
2025-02-08 22:45:32,087 [INFO] 生成 2: , I feel , I feel , I feel , I feel , I felt , and the world...
2025-02-08 22:45:32,087 [INFO] 生成 3:  to be an amazing person. I'm a realist, a very smart person...
2025-02-08 22:45:32,088 [INFO] 干预之后的结果
2025-02-08 22:45:32,088 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 22:45:32,088 [INFO] ** Generating texts with steering... Target **
2025-02-08 22:45:32,088 [INFO] form pos to neg
2025-02-08 22:45:33,002 [INFO] 当前批次共处理2个prompt
2025-02-08 22:45:33,002 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 22:45:33,002 [INFO] 生成 1:  have been more appropriate.

"I'm not sure that's a good th...
2025-02-08 22:45:33,002 [INFO] 生成 2:  have been better.
I think it's fair to say that, in my opin...
2025-02-08 22:45:33,002 [INFO] 生成 3:  be a huge help to us all.

So here's what we need to do:

1...
2025-02-08 22:45:33,002 [INFO] Prompt 2:  I feel ...
2025-02-08 22:45:33,002 [INFO] 生成 1:  the the i know how much it means to me that i can do this f...
2025-02-08 22:45:33,002 [INFO] 生成 2: ,,,,.,.

The good news is that the main reason why we're so ...
2025-02-08 22:45:33,002 [INFO] 生成 3: 
The Last Jedi is a very popular series on the internet. It'...
2025-02-08 22:45:33,007 [INFO] Running on full data
2025-02-08 22:45:33,008 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 22:45:33,008 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:45:33,023 [INFO] prompt的极性是pos
2025-02-08 22:45:33,023 [INFO] Running with alpha: 203.0
2025-02-08 22:45:33,023 [INFO] Running with prompt_type: from pos to neg
2025-02-08 22:45:33,024 [WARNING] 截取prompt_datasize500
2025-02-08 22:45:33,975 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:33,975 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'generations': [{'text': '"It sticks true to ( ))\n{\n\n// TODO: fix this. Also, don\'t forget to add a callback function if you\'re using a separate thread.\n\nif ( ! callbacks ) { // callbacks are not needed here, but they'}]}
2025-02-08 22:45:34,928 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:34,928 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'generations': [{'text': "I love hearing from you\nby\n\nWe're not talking about the Super Bowl here, but the NFL's season-long practice of giving players a chance to get out of their own way is something that has been going on for years. The league has always had a"}]}
2025-02-08 22:45:35,836 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:35,836 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'generations': [{'text': "Moreover, we see the interest of our French friends\nBut there's a big difference between the two.\n\nThe more you know about the company, the more you'll understand why it's so important to get your hands on one. And that's what makes Apple so special. It's hard"}]}
2025-02-08 22:45:36,736 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:36,736 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'generations': [{'text': "The artful play of dynamics and and.\nI'm not sure what to say about this, but I think it's pretty good. It's a very interesting story, and I think it's really fun to read. The only thing that makes me feel like I'm getting"}]}
2025-02-08 22:45:38,303 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:38,303 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'generations': [{'text': '"He spoke with such amazing passion even in.\nI\'ve been a fan of the \'T\' for years, and I love it. I\'ve never seen anything like it, and it\'s a great feeling to be able to see what you\'re doing with your life.\n\nI'}]}
2025-02-08 22:45:39,081 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:39,081 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'generations': [{'text': 'It proved an enlightening experience, though he was\n"You\'re a little too nice to be my friend."\n\n"No, I\'m not. I\'m just trying to help you out."\n\n"I know. It\'s all right with me." ―Jade and Talia'}]}
2025-02-08 22:45:39,860 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:39,860 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'generations': [{'text': '"You are my favorite person in the to be a good parent.\nI\'ve been a parent for over 30 years and I have been through many different situations. I have had to make tough decisions and have made difficult choices.\n\nI am very proud of my son and he is'}]}
2025-02-08 22:45:40,696 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:40,696 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'generations': [{'text': "This group includes multiple chemists and,,,,.\n\nI'm not going to tell you how to get started with a new game. I'm just going to tell you how to play it. It's a game that is not for everyone. It's a game that"}]}
2025-02-08 22:45:42,503 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:42,504 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'generations': [{'text': "This is the enduring image of Craig Biggio: sitting.\nThere's a lot of things that go into a game like how it plays, how it feels to play, and how it feels to be part of something. It's not just about the mechanics or the mechanics, but about what makes you"}]}
2025-02-08 22:45:43,319 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:43,319 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'generations': [{'text': "ONCE again, the Seattle Hempfest drew tens of and and and and. And it's not just about this one guy. It's about all of us who are trying to make a difference in the world.\n\nAnd we're going to be talking about that in a moment, but first let"}]}
2025-02-08 22:45:44,097 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:44,097 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'generations': [{'text': "With our assortment of whimsical tea, and many more.\nThe list goes on and on.\n\nThere are a lot of reasons why I love the show, but I've always been a fan of the characters. It's just that there's so much to do in this"}]}
2025-02-08 22:45:44,874 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:44,874 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'generations': [{'text': 'People from every neighbourhood in London came to our----\n"It\'s a big city, it\'s huge. It\'s like a little town, but bigger."\n\nI don\'t know what you\'re thinking when you think about the size of this city. It\'s big and'}]}
2025-02-08 22:45:46,520 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:46,520 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'generations': [{'text': "Home Affairs Minister Peter Dutton praised the efforts in this story.\nBy Andrew Mackenzie\n\nThe latest issue of Harper's Global News magazine has been published by HarperCollins, a Canadian publisher. The magazine is based in Toronto and features articles from various authors, including Mark Twain, William Shakespeare"}]}
2025-02-08 22:45:47,330 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:47,330 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'generations': [{'text': "The Baltimore Orioles will promote first baseman Travis Ishikawa from to to to to, the four of us sitting in a booth at the VCR.\nWe were all pretty excited about this new project, but we didn't know what it was going to be like. It was going to be like a family"}]}
2025-02-08 22:45:48,101 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:48,101 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'generations': [{'text': "What I will do is help you become the best in the game.\nIt's not like we're all just going to go out and buy a bunch of stuff. We're going to be buying things that are good for us, and then we'll go buy stuff that is better for us."}]}
2025-02-08 22:45:48,883 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:48,883 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'generations': [{'text': "With LINC it's simple and easy,,,.\n\nIt's a long story but I'm going to try to make it as short as possible.\n\nI've been doing this for about 3 years now and I've always had a good relationship with my wife and the"}]}
2025-02-08 22:45:50,575 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:50,575 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'generations': [{'text': 'The most remarkable thing about Michael Brown is not that to the other side of the river.\n\n"It\'s like you\'re in a game of football," said teammate Kyle O\'Brien, who was out on the field with his teammates when he heard the call. "You\'re playing for your'}]}
2025-02-08 22:45:51,354 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:51,354 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'generations': [{'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency per tonne of weight.\nThis is a comparison of the two performance options. The performance that comes from using a high quality, low cost, low maintenance system is the most important factor in determining how much weight you will use for your daily life'}]}
2025-02-08 22:45:52,131 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:52,132 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'generations': [{'text': 'That widens the defense and eases the----\n"I\'m sorry, but I can\'t help you. You\'re not my friend."\n\n"You\'re not my friend," he said. "You\'re a fool. You\'ve been so far away from me that'}]}
2025-02-08 22:45:52,910 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:52,910 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'generations': [{'text': 'Congratulations, you made.\nThe New York Times is reporting that a new report from the Department of Homeland Security shows that "more than half" of all U.S. gun sales were made in 2012, when the nation\'s second-largest gun manufacturer was founded by'}]}
2025-02-08 22:45:54,467 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:54,467 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'generations': [{'text': "There are adventures, choices, dangers.\nThis is a new post for me. I've been writing about gaming since the early days of the internet and have been doing so for over 20 years now.\n\nI'm going to start with a brief history of what I do and"}]}
2025-02-08 22:45:55,283 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:55,283 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'generations': [{'text': 'But I appreciate the art in which I a b c d e f g h i j k l m n o p q r s t u v w x y z 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24'}]}
2025-02-08 22:45:56,122 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:56,122 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'generations': [{'text': 'A blaze of orange lit up ( ( ) ( ) ) )\n\n( . . , , . . , : , : : ))\n\n( defun f-lose-a-line () "Turn off the loop and rewind the line. If you are'}]}
2025-02-08 22:45:57,059 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:57,059 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'generations': [{'text': "The shoot is lovely — exuberant the the the the this was my first shot at shooting and shooting. I had no idea what to expect, but it was so good. The only thing I didn't like about this shoot was that it took place in a very cold climate. It"}]}
2025-02-08 22:45:58,803 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:45:58,803 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'generations': [{'text': 'Among the foremost activists of the PUCL&---\n"The best way to get rid of this is to go back and look at what\'s happened. We\'ve got a lot of people who are still alive, but they\'re not getting out alive. And that\'s why we\'re'}]}
2025-02-08 22:45:59,545 [INFO] Show Hyperparameters: 


2025-02-08 22:45:59,545 [INFO]   task: sentiment
2025-02-08 22:45:59,545 [INFO]   layer: 2
2025-02-08 22:45:59,545 [INFO]   LLM: gpt2-small
2025-02-08 22:45:59,545 [INFO]   seed: 42
2025-02-08 22:45:59,545 [INFO]   data_size: -1
2025-02-08 22:45:59,545 [INFO]   device: cuda
2025-02-08 22:45:59,545 [INFO]   alpha: 203.0
2025-02-08 22:45:59,545 [INFO]   method: val_mul
2025-02-08 22:45:59,545 [INFO]   topk_mean: 100
2025-02-08 22:45:59,545 [INFO]   topk_cnt: 50
2025-02-08 22:45:59,545 [INFO]   batch_size: 32
2025-02-08 22:45:59,545 [INFO]   source: pos
2025-02-08 22:45:59,545 [INFO]   target: neg
2025-02-08 22:45:59,545 [INFO]   prompt_source: pos
2025-02-08 22:45:59,545 [INFO]   prompt_data_size: 500
2025-02-08 22:45:59,545 [INFO]   mean_type: dif_mean
2025-02-08 22:45:59,545 [INFO]   steer_type: last
2025-02-08 22:45:59,545 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 22:45:59,545 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:45:59,545 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:45:59,546 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 22:45:59,546 [INFO]   temperature: 0.9
2025-02-08 22:45:59,546 [INFO]   top_p: 0.3
2025-02-08 22:45:59,546 [INFO]   freq_penalty: 1.0
2025-02-08 22:45:59,546 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 22:45:59,546 [INFO]   debug: 0
2025-02-08 22:45:59,546 [INFO]   save_no_steer: 0
2025-02-08 22:45:59,546 [INFO]   is_norm_delta_matrix: 0
2025-02-08 22:45:59,546 [INFO]   use_cache: 0
2025-02-08 22:45:59,546 [INFO]   repeat_num: 1
2025-02-08 22:45:59,546 [INFO]   gen_batch_size: 16
2025-02-08 22:45:59,546 [INFO]   real_data_size_for_train: 1624
