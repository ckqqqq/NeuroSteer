2025-02-08 20:07:01,926 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 20:07:01,926 [INFO] Show Hyperparameters: 


2025-02-08 20:07:01,926 [INFO]   task: sentiment
2025-02-08 20:07:01,926 [INFO]   layer: 1
2025-02-08 20:07:01,926 [INFO]   LLM: gpt2-small
2025-02-08 20:07:01,926 [INFO]   seed: 42
2025-02-08 20:07:01,926 [INFO]   data_size: -1
2025-02-08 20:07:01,926 [INFO]   device: cuda
2025-02-08 20:07:01,926 [INFO]   alpha: 203.0
2025-02-08 20:07:01,926 [INFO]   method: val_mul
2025-02-08 20:07:01,926 [INFO]   topk_mean: 100
2025-02-08 20:07:01,926 [INFO]   topk_cnt: 50
2025-02-08 20:07:01,926 [INFO]   batch_size: 32
2025-02-08 20:07:01,926 [INFO]   source: pos
2025-02-08 20:07:01,926 [INFO]   target: neg
2025-02-08 20:07:01,926 [INFO]   prompt_source: pos
2025-02-08 20:07:01,926 [INFO]   prompt_data_size: 500
2025-02-08 20:07:01,926 [INFO]   mean_type: dif_mean
2025-02-08 20:07:01,926 [INFO]   steer_type: last
2025-02-08 20:07:01,926 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:07:01,926 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:07:01,926 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:07:01,926 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:07:01,926 [INFO]   temperature: 0.9
2025-02-08 20:07:01,926 [INFO]   top_p: 0.3
2025-02-08 20:07:01,926 [INFO]   freq_penalty: 1.0
2025-02-08 20:07:01,927 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:07:01,927 [INFO]   debug: 0
2025-02-08 20:07:01,927 [INFO]   save_no_steer: 0
2025-02-08 20:07:01,927 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:07:01,927 [INFO]   use_cache: 0
2025-02-08 20:07:01,927 [INFO]   repeat_num: 1
2025-02-08 20:07:01,927 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 20:07:01,927 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:07:01,927 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 20:07:01,927 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 20:07:02,027 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 20:07:02,032 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 20:07:02,032 [INFO] Loading Model Loading SAE for layer 1 gpt2-small
2025-02-08 20:07:02,032 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 20:08:29,420 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
)
2025-02-08 20:08:29,420 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl 不存在，缓存 steer_info
2025-02-08 20:08:29,438 [INFO] :>> Sentiment : from pos to neg
2025-02-08 20:08:29,448 [INFO] positive
2025-02-08 20:08:29,454 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:08:31,205 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:08:31,206 [INFO] negative
2025-02-08 20:08:31,218 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:08:33,193 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:08:33,195 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl
2025-02-08 20:08:33,203 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 20:08:33,224 [INFO] sae cfg.hook_name 挂载名称: blocks.1.hook_resid_pre
2025-02-08 20:08:33,227 [INFO] Example prompt: But the lack of financial aid would
2025-02-08 20:08:33,227 [INFO] Generating texts **without** steering... 
2025-02-08 20:08:33,228 [INFO] 无干预
2025-02-08 20:08:34,286 [INFO] prompt:*****
But the lack of financial aid would
2025-02-08 20:08:34,286 [INFO] 包含prompt的完整输出: 1:
<|endoftext|>But the lack of financial aid would be a major blow to the economy, said John McAfee, a professor at Stanford University who has studied how poverty affects economic growth.

"If you look at what's happening in Africa and South America, it's not just about poor people
2025-02-08 20:08:34,286 [INFO] 包含prompt的完整输出: 2:
<|endoftext|>But the lack of financial aid would mean that a student could be left with no choice but to enroll in an expensive program that would cost them thousands of dollars.

"I'm not sure how you can do it," said Alisa Kline, who was born and raised in
2025-02-08 20:08:34,286 [INFO] 包含prompt的完整输出: 3:
<|endoftext|>But the lack of financial aid would be even more damaging to the economy.

The president's budget proposal, which includes $1 trillion in cuts to Social Security and Medicare, would cut about $4 trillion from Social Security and Medicare over 10 years. That's a significant increase from
2025-02-08 20:08:34,286 [INFO] 干预之后的结果
2025-02-08 20:08:34,286 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 20:08:34,286 [INFO] ** Generating texts with steering... Target **
2025-02-08 20:08:34,286 [INFO] form pos to neg
2025-02-08 20:08:34,991 [INFO] prompt:*****
But the lack of financial aid would
2025-02-08 20:08:34,991 [INFO] 包含prompt的完整输出: 1:
<|endoftext|>But the lack of financial aid would and would. And it was a game, and it was a story, and it was a story. And I think that's what we're going to be able to do with this game."
The last two years have been very difficult for The
2025-02-08 20:08:34,991 [INFO] 包含prompt的完整输出: 2:
<|endoftext|>But the lack of financial aid would be an excellent and good way to get your hands on a copy of this book.
This is the first book I have read and I am so glad that it has been read. It is a great introduction to how to use these tools, as
2025-02-08 20:08:34,991 [INFO] 包含prompt的完整输出: 3:
<|endoftext|>But the lack of financial aid would be a good thing for the country. And I think it's good for America and that's what we're going to do."
The president also said he would be "very, very happy" if Congress passed a bill to allow American citizens to
2025-02-08 20:08:34,995 [INFO] Running on full data
2025-02-08 20:08:34,995 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 20:08:34,995 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:08:35,007 [INFO] prompt的极性是pos
2025-02-08 20:08:35,007 [INFO] Running with alpha: 203.0
2025-02-08 20:08:35,007 [INFO] Running with prompt_type: from pos to neg
2025-02-08 20:08:35,008 [WARNING] 截取prompt_datasize500
2025-02-08 20:08:35,729 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:08:35,729 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"It sticks true to to to to.\n\nAnd the people of the world and their nations, and their peoples, and their peoples, and all things that are within them; they are all in one. And they are all in one. And they are all in'}]}
2025-02-08 20:08:49,707 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:08:49,707 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>I love hearing from you are the real deal. And that's what I'm trying to do and you're not going to get it.\nSo I've got a bunch of ideas and ideas that I think are going to be great for this business, but also for the"}]}
2025-02-08 20:09:03,690 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:09:03,690 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>Moreover, we see the interest of our French friends and family.\nAnd you know that's what it is? It's a game where you can make and play as many different characters as you want. And there are no limits to how many people can play on your own.\n\nSo,"}]}
2025-02-08 20:09:17,626 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:09:17,627 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The artful play of dynamics and dynamics.\nAnd that's all for this week. I'm back with another episode, this time on the topic of evolution and why it is important to understand the science behind evolution. This week we're going to talk about how our ancestors evolved"}]}
2025-02-08 20:09:31,580 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:09:31,580 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"He spoke with such amazing passion even in the and the and and the and of both, but that which is, and not only that which is, but also that which is; for if there were no such thing as a man\'s body, then there would be no man\'s body.'}]}
2025-02-08 20:09:45,572 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:09:45,572 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>It proved an enlightening experience, though he was a large and very complex group of people.\nI am not sure if they were the same or different but I can tell you that they are both very well organized and very well known. They have a lot of experience in this field and are very'}]}
2025-02-08 20:09:59,562 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:09:59,563 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>"You are my favorite person in the a and b and c of all of the names, but not the names, and even those that are not named. And it is for this reason that we call them "the family." And they have been called by many people, but not to'}]}
2025-02-08 20:10:13,464 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:10:13,464 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>This group includes multiple chemists and and and and. And they're all the same, but they're all the same, and they're all the same, but they're all the same. And it's not just about them; it's about everybody else in this world.\n"}]}
2025-02-08 20:10:27,369 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:10:27,369 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>This is the enduring image of Craig Biggio: sitting sitting sitting sitting sit sit sit sit sat sat sat sat sit and and and and and. And I know that you are all right, but you are not right, because you are not right. And I know that you are all right, but you'}]}
2025-02-08 20:10:41,291 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:10:41,291 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>ONCE again, the Seattle Hempfest drew tens of of of of of and and and all and every man, and all his fellow-men, in all their parts; for they are the only ones who can make them; for they are the only ones who can make them. And so shall I'}]}
2025-02-08 20:10:55,244 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:10:55,244 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>With our assortment of whimsical tea. And I'm sure you're all familiar with the story and that's why we're here today.\nSo, what is this? What is it about? And how does it work?\n\nIt's a very simple thing to do,"}]}
2025-02-08 20:11:09,165 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:11:09,165 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>People from every neighbourhood in London came to our customers.\nAnd that's why we're here and doing it right. We're bringing the best of our technology and expertise to the business, and we want you to know that. And we want you to know that too. And that's why"}]}
2025-02-08 20:11:23,087 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:11:23,087 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>Home Affairs Minister Peter Dutton praised the efforts to create a better world. And that's what we're doing and what we're going to do.\nWe're working with partners, agencies, and government to create a better world for all of us. We've got our work cut out for"}]}
2025-02-08 20:11:37,001 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:11:37,001 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The Baltimore Orioles will promote first baseman Travis Ishikawa from the inside.\nI have a lot of experience with the building and I have been in there for about 2 years. It is very well done and has a great feel to it. The building is also very well built and looks great on it's"}]}
2025-02-08 20:11:50,910 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:11:50,910 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>What I will do is help you become the best and best. And I know that it's not for me, but for you and your family. And so, as well as my wife and my son, and all of you who are in this situation with us.\n\nAnd so, as"}]}
2025-02-08 20:12:04,843 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:12:04,843 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>With LINC it's simple and easy to do.\nThe best way to get started with this is to go through the app and download it.\nYou can also use the app on your phone or tablet. It will help you understand what you are doing and how you can do it"}]}
2025-02-08 20:12:18,772 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:12:18,772 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>The most remarkable thing about Michael Brown is not that's what I'm going to do. And I'll be with you and your family, and we're going to be together for a long time. And we're going to be together for a long time. And we're going to be together for"}]}
2025-02-08 20:12:32,700 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:12:32,700 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>The state-of-the-art design also combines stealth with superior aerodynamic efficiency and and and and and, the is a very simple but effective method for all the purposes of such.\nAnd this is what we have done. And this is what we have done. And this is what we have done. And this is what'}]}
2025-02-08 20:12:46,626 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:12:46,626 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>That widens the defense and eases the most important thing to do. And you know what it is, right?\nSo let's get started.\nHow to Use an Amazon Echo\nIf you're a regular user of Amazon, then you probably already know how to use an Amazon Echo"}]}
2025-02-08 20:13:00,550 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:13:00,550 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>Congratulations, you made by me.\nI am a freelance writer and I love to write and share my work with the world. I am also a passionate fan of all things Star Wars and other related genres.\n\nMy personal motto is "I love writing." So'}]}
2025-02-08 20:13:14,497 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:13:14,498 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>There are adventures, choices, dangers of the future. And with this and all that comes from you and your friends, it's time to get out there and make a difference.\nI'm not going to go into detail about what I do here at Geekhack. I'm just"}]}
2025-02-08 20:13:28,446 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:13:28,446 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>But I appreciate the art in which I I I I\nI and\nI and\nI and\nI and\nI And And And And And And AndAndAndAndAndAndAndAndAndandandandandandandor, The Love of God, by He Who Is One'}]}
2025-02-08 20:13:42,407 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:13:42,408 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>A blaze of orange lit up up up up up. And you're gonna have to do it and do it all the time. And that's what we're doing.\nAnd we've got a lot of things going on right now, and we've got a lot of people"}]}
2025-02-08 20:13:56,353 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:13:56,353 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': '<|endoftext|>The shoot is lovely — exuberant, and of the nature of man and his own mind.\nThe only difference between this and the other books is that it contains no discussion of sex, or any attempt to explain why it is not a matter of choice. The only difference between these'}]}
2025-02-08 20:14:10,294 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 20:14:10,294 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'label': 'pos->neg', 'generations': [{'text': "<|endoftext|>Among the foremost activists of the PUCL&&&&& & and we and our and other friends.\nAnd we have to say, this is one of the best things I've ever done. And I'm sure you'll agree with me on that too.\n\nAnd we have"}]}
2025-02-08 20:14:23,545 [INFO] Show Hyperparameters: 


2025-02-08 20:14:23,545 [INFO]   task: sentiment
2025-02-08 20:14:23,545 [INFO]   layer: 1
2025-02-08 20:14:23,545 [INFO]   LLM: gpt2-small
2025-02-08 20:14:23,545 [INFO]   seed: 42
2025-02-08 20:14:23,545 [INFO]   data_size: -1
2025-02-08 20:14:23,545 [INFO]   device: cuda
2025-02-08 20:14:23,545 [INFO]   alpha: 203.0
2025-02-08 20:14:23,545 [INFO]   method: val_mul
2025-02-08 20:14:23,545 [INFO]   topk_mean: 100
2025-02-08 20:14:23,545 [INFO]   topk_cnt: 50
2025-02-08 20:14:23,545 [INFO]   batch_size: 32
2025-02-08 20:14:23,545 [INFO]   source: pos
2025-02-08 20:14:23,545 [INFO]   target: neg
2025-02-08 20:14:23,545 [INFO]   prompt_source: pos
2025-02-08 20:14:23,545 [INFO]   prompt_data_size: 500
2025-02-08 20:14:23,545 [INFO]   mean_type: dif_mean
2025-02-08 20:14:23,545 [INFO]   steer_type: last
2025-02-08 20:14:23,545 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:14:23,545 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:14:23,545 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:14:23,545 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:14:23,545 [INFO]   temperature: 0.9
2025-02-08 20:14:23,546 [INFO]   top_p: 0.3
2025-02-08 20:14:23,546 [INFO]   freq_penalty: 1.0
2025-02-08 20:14:23,546 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:14:23,546 [INFO]   debug: 0
2025-02-08 20:14:23,546 [INFO]   save_no_steer: 0
2025-02-08 20:14:23,546 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:14:23,546 [INFO]   use_cache: 0
2025-02-08 20:14:23,546 [INFO]   repeat_num: 1
2025-02-08 20:14:23,546 [INFO]   real_data_size_for_train: 1624
2025-02-08 20:48:17,968 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 20:48:17,968 [INFO] Show Hyperparameters: 


2025-02-08 20:48:17,968 [INFO]   task: sentiment
2025-02-08 20:48:17,968 [INFO]   layer: 1
2025-02-08 20:48:17,968 [INFO]   LLM: gpt2-small
2025-02-08 20:48:17,968 [INFO]   seed: 42
2025-02-08 20:48:17,968 [INFO]   data_size: -1
2025-02-08 20:48:17,968 [INFO]   device: cuda
2025-02-08 20:48:17,968 [INFO]   alpha: 203.0
2025-02-08 20:48:17,968 [INFO]   method: val_mul
2025-02-08 20:48:17,968 [INFO]   topk_mean: 100
2025-02-08 20:48:17,969 [INFO]   topk_cnt: 50
2025-02-08 20:48:17,969 [INFO]   batch_size: 32
2025-02-08 20:48:17,969 [INFO]   source: pos
2025-02-08 20:48:17,969 [INFO]   target: neg
2025-02-08 20:48:17,969 [INFO]   prompt_source: pos
2025-02-08 20:48:17,969 [INFO]   prompt_data_size: 500
2025-02-08 20:48:17,969 [INFO]   mean_type: dif_mean
2025-02-08 20:48:17,969 [INFO]   steer_type: last
2025-02-08 20:48:17,969 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:48:17,969 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:48:17,969 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:48:17,969 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:48:17,969 [INFO]   temperature: 0.9
2025-02-08 20:48:17,969 [INFO]   top_p: 0.3
2025-02-08 20:48:17,969 [INFO]   freq_penalty: 1.0
2025-02-08 20:48:17,969 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:48:17,969 [INFO]   debug: 0
2025-02-08 20:48:17,969 [INFO]   save_no_steer: 0
2025-02-08 20:48:17,969 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:48:17,969 [INFO]   use_cache: 0
2025-02-08 20:48:17,969 [INFO]   repeat_num: 1
2025-02-08 20:48:17,969 [INFO]   gen_batch_size: 16
2025-02-08 20:48:17,970 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 20:48:17,970 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:48:17,970 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 20:48:17,970 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 20:48:18,069 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 20:48:18,073 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 20:48:18,073 [INFO] Loading Model Loading SAE for layer 1 gpt2-small
2025-02-08 20:48:18,074 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 20:57:26,013 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 20:57:26,013 [INFO] Show Hyperparameters: 


2025-02-08 20:57:26,013 [INFO]   task: sentiment
2025-02-08 20:57:26,013 [INFO]   layer: 1
2025-02-08 20:57:26,013 [INFO]   LLM: gpt2-small
2025-02-08 20:57:26,013 [INFO]   seed: 42
2025-02-08 20:57:26,013 [INFO]   data_size: -1
2025-02-08 20:57:26,013 [INFO]   device: cuda
2025-02-08 20:57:26,013 [INFO]   alpha: 203.0
2025-02-08 20:57:26,013 [INFO]   method: val_mul
2025-02-08 20:57:26,014 [INFO]   topk_mean: 100
2025-02-08 20:57:26,014 [INFO]   topk_cnt: 50
2025-02-08 20:57:26,014 [INFO]   batch_size: 32
2025-02-08 20:57:26,014 [INFO]   source: pos
2025-02-08 20:57:26,014 [INFO]   target: neg
2025-02-08 20:57:26,014 [INFO]   prompt_source: pos
2025-02-08 20:57:26,014 [INFO]   prompt_data_size: 500
2025-02-08 20:57:26,014 [INFO]   mean_type: dif_mean
2025-02-08 20:57:26,014 [INFO]   steer_type: last
2025-02-08 20:57:26,014 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 20:57:26,014 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:57:26,014 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 20:57:26,014 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 20:57:26,014 [INFO]   temperature: 0.9
2025-02-08 20:57:26,014 [INFO]   top_p: 0.3
2025-02-08 20:57:26,014 [INFO]   freq_penalty: 1.0
2025-02-08 20:57:26,014 [INFO]   example_prompt: But the lack of financial aid would
2025-02-08 20:57:26,014 [INFO]   debug: 0
2025-02-08 20:57:26,014 [INFO]   save_no_steer: 0
2025-02-08 20:57:26,014 [INFO]   is_norm_delta_matrix: 0
2025-02-08 20:57:26,014 [INFO]   use_cache: 0
2025-02-08 20:57:26,014 [INFO]   repeat_num: 1
2025-02-08 20:57:26,014 [INFO]   gen_batch_size: 16
2025-02-08 20:57:26,014 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 20:57:26,015 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 20:57:26,015 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 20:57:26,015 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 20:57:26,113 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 20:57:26,117 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 20:57:26,117 [INFO] Loading Model Loading SAE for layer 1 gpt2-small
2025-02-08 20:57:26,117 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 20:58:53,202 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
)
2025-02-08 20:58:53,202 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl 不存在，缓存 steer_info
2025-02-08 20:58:53,223 [INFO] :>> Sentiment : from pos to neg
2025-02-08 20:58:53,236 [INFO] positive
2025-02-08 20:58:53,242 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:58:54,995 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:58:54,996 [INFO] negative
2025-02-08 20:58:55,009 [INFO] Running model with cache to obtain hidden states
2025-02-08 20:58:56,992 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 20:58:56,995 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl
2025-02-08 20:58:57,004 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 20:58:57,028 [INFO] sae cfg.hook_name 挂载名称: blocks.1.hook_resid_pre
2025-02-08 20:58:57,031 [INFO] Example prompt: ['But the lack of financial aid would']
2025-02-08 20:58:57,032 [INFO] Generating texts **without** steering... 
2025-02-08 20:58:57,033 [INFO] 无干预
2025-02-08 21:12:03,274 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 21:12:03,275 [INFO] Show Hyperparameters: 


2025-02-08 21:12:03,275 [INFO]   task: sentiment
2025-02-08 21:12:03,275 [INFO]   layer: 1
2025-02-08 21:12:03,275 [INFO]   LLM: gpt2-small
2025-02-08 21:12:03,275 [INFO]   seed: 42
2025-02-08 21:12:03,275 [INFO]   data_size: -1
2025-02-08 21:12:03,275 [INFO]   device: cuda
2025-02-08 21:12:03,275 [INFO]   alpha: 203.0
2025-02-08 21:12:03,275 [INFO]   method: val_mul
2025-02-08 21:12:03,275 [INFO]   topk_mean: 100
2025-02-08 21:12:03,275 [INFO]   topk_cnt: 50
2025-02-08 21:12:03,275 [INFO]   batch_size: 32
2025-02-08 21:12:03,275 [INFO]   source: pos
2025-02-08 21:12:03,275 [INFO]   target: neg
2025-02-08 21:12:03,275 [INFO]   prompt_source: pos
2025-02-08 21:12:03,275 [INFO]   prompt_data_size: 500
2025-02-08 21:12:03,275 [INFO]   mean_type: dif_mean
2025-02-08 21:12:03,275 [INFO]   steer_type: last
2025-02-08 21:12:03,275 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 21:12:03,275 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:12:03,275 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 21:12:03,275 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 21:12:03,275 [INFO]   temperature: 0.9
2025-02-08 21:12:03,275 [INFO]   top_p: 0.3
2025-02-08 21:12:03,275 [INFO]   freq_penalty: 1.0
2025-02-08 21:12:03,275 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 21:12:03,275 [INFO]   debug: 0
2025-02-08 21:12:03,275 [INFO]   save_no_steer: 0
2025-02-08 21:12:03,275 [INFO]   is_norm_delta_matrix: 0
2025-02-08 21:12:03,275 [INFO]   use_cache: 0
2025-02-08 21:12:03,275 [INFO]   repeat_num: 1
2025-02-08 21:12:03,275 [INFO]   gen_batch_size: 16
2025-02-08 21:12:03,276 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 21:12:03,276 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:12:03,276 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 21:12:03,276 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 21:12:03,376 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 21:12:03,380 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 21:12:03,380 [INFO] Loading Model Loading SAE for layer 1 gpt2-small
2025-02-08 21:12:03,380 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 21:12:05,269 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
)
2025-02-08 21:12:05,269 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl 不存在，缓存 steer_info
2025-02-08 21:12:05,286 [INFO] :>> Sentiment : from pos to neg
2025-02-08 21:12:05,299 [INFO] positive
2025-02-08 21:12:05,305 [INFO] Running model with cache to obtain hidden states
2025-02-08 21:12:07,274 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 21:12:07,275 [INFO] negative
2025-02-08 21:12:07,288 [INFO] Running model with cache to obtain hidden states
2025-02-08 21:12:09,304 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 21:12:09,306 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl
2025-02-08 21:12:09,317 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 21:12:09,347 [INFO] sae cfg.hook_name 挂载名称: blocks.1.hook_resid_pre
2025-02-08 21:12:09,351 [INFO] Example prompt: ['But the lack of financial aid would', ' I feel ']
2025-02-08 21:12:09,351 [INFO] Generating texts **without** steering... 
2025-02-08 21:12:09,353 [INFO] 无干预
2025-02-08 21:12:10,664 [INFO] 当前批次共处理2个prompt
2025-02-08 21:12:10,664 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 21:12:10,664 [INFO] 生成 1: ial aid would mean that many people who were not eligible fo...
2025-02-08 21:12:10,665 [INFO] 生成 2: ial aid would be even more devastating for those who are alr...
2025-02-08 21:12:10,665 [INFO] 生成 3: ial aid would be a big blow to her campaign.

"I'm not going...
2025-02-08 21:12:10,665 [INFO] Prompt 2:  I feel ...
2025-02-08 21:12:10,665 [INFO] 生成 1: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:10,665 [INFO] 生成 2: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:10,665 [INFO] 生成 3: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:10,665 [INFO] 干预之后的结果
2025-02-08 21:12:10,665 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 21:12:10,665 [INFO] ** Generating texts with steering... Target **
2025-02-08 21:12:10,665 [INFO] form pos to neg
2025-02-08 21:12:11,606 [INFO] 当前批次共处理2个prompt
2025-02-08 21:12:11,606 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 21:12:11,606 [INFO] 生成 1: ial aid would and would and would. And they were, and they w...
2025-02-08 21:12:11,606 [INFO] 生成 2: ial aid would and would. And it was all for the sake of, and...
2025-02-08 21:12:11,606 [INFO] 生成 3: ial aid would be in the same place and at the same time. And...
2025-02-08 21:12:11,606 [INFO] Prompt 2:  I feel ...
2025-02-08 21:12:11,606 [INFO] 生成 1: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:11,606 [INFO] 生成 2: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:11,606 [INFO] 生成 3: ext|> I feel <|endoftext|><|endoftext|><|endoftext|><|endoft...
2025-02-08 21:12:11,611 [INFO] Running on full data
2025-02-08 21:12:11,611 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 21:12:11,611 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 21:12:11,625 [INFO] prompt的极性是pos
2025-02-08 21:12:11,625 [INFO] Running with alpha: 203.0
2025-02-08 21:12:11,625 [INFO] Running with prompt_type: from pos to neg
2025-02-08 21:12:11,626 [WARNING] 截取prompt_datasize500
2025-02-08 21:12:12,612 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:12,612 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>"It sticks true to<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and (and) And the same day, And the same day, And the same day, And the same day, And the same day, And the same day,And The same day (and)And (and)And ('}]}
2025-02-08 21:12:13,596 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:13,597 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>I love hearing from you<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and. And he was the one who had been with the men, and he was the one who had been with them, that they were not of one mind, but of two minds. And he said to them: "You are'}]}
2025-02-08 21:12:14,450 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:14,451 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>Moreover, we see the interest of our French friends<|endoftext|><|endoftext|><|endoftext|>\nand and and and and and . And I have said unto you, And shall say unto you, That ye are not but of one flesh; that ye are not but of one mind; that ye are not but of one body; that ye'}]}
2025-02-08 21:12:15,421 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:15,421 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>The artful play of dynamics<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>, and and and and. And I'm going to be the first woman president. And I'm going to be the first woman president, because I think that's what we need in this country.\n\nAnd so, as you know, we"}]}
2025-02-08 21:12:17,354 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:17,354 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>"He spoke with such amazing passion even in<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and and And And And And And And But They Were All Right So Then So Then So Then So That Was The Beginning Of It All Now That Was The Beginning Of It All Now That Was The Beginning Of It All Now That Was The'}]}
2025-02-08 21:12:18,352 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:18,353 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>It proved an enlightening experience, though he was<|endoftext|>.\nThe three-year anniversary of the launch of the space shuttle is now approaching and it's time to celebrate. The Space Shuttle Launch Complex (SLC) and its crew will be in full display at NASA's Kennedy Space Center on Saturday,"}]}
2025-02-08 21:12:19,292 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:19,293 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>"You are my favorite person in the<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and (and) and (and) (and) and, but, but, but, but. And it\'s not a big deal.\nAnd it\'s not a big deal. And it\'s not a big deal either. It'}]}
2025-02-08 21:12:20,113 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:20,113 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>This group includes multiple chemists and<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and. And they are going to be in the same place, but they will be in different places, so that's what we're going to do. And we're going to make sure that everybody is safe.\n\nAnd I think"}]}
2025-02-08 21:12:21,898 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:21,899 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>This is the enduring image of Craig Biggio: sitting<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and and, all of them. And he said unto them, "I will do what I have done; but I will not do what I have done." And they said unto him, "And we shall go forth to our own'}]}
2025-02-08 21:12:22,727 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:22,727 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>ONCE again, the Seattle Hempfest drew tens of<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and and\nand And we shall see that is the way, for it is the way. And we shall see that is the way. And we shall see that is the way. And we shall see that is the way.\n'}]}
2025-02-08 21:12:23,631 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:23,631 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>With our assortment of whimsical tea<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and and (and) And they're going to come out with their heads in the sand, because they're going to come out with their heads in the sand. And that's what I'm saying.\nAnd you know what?"}]}
2025-02-08 21:12:24,457 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:24,457 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>People from every neighbourhood in London came to our<|endoftext|><|endoftext|><|endoftext|> and and and and and (and) And I will say that, as you have said, the same shall be said unto you; but if it be not so, then it shall be one with all. And if it be not so, then'}]}
2025-02-08 21:12:26,289 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:26,289 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>Home Affairs Minister Peter Dutton praised the efforts<|endoftext|><|endoftext|> and and and and, with all of them. And I said unto them, O ye men, if ye will not go forth from your fathers to tell the truth of this matter, then let us go forth from our fathers to tell it. And'}]}
2025-02-08 21:12:27,262 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:27,262 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>The Baltimore Orioles will promote first baseman Travis Ishikawa from<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> the the and the and the and theandandandandtheandthe. And they are both in, as well as all of them. And they are both both, as well as all of them. And they are both, as well as'}]}
2025-02-08 21:12:28,096 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:28,096 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>What I will do is help you become the best<|endoftext|><|endoftext|> and and and (and) and (and) (and) and, and, and, etc.\nAnd it came to pass that the king of the land had an appetite for food. And he said unto him: "I have eaten all'}]}
2025-02-08 21:12:28,902 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:28,902 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>With LINC it\'s simple and easy<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>, and and and. And the Lord Jesus Christ said to him, "I am your servant; I will give you my name." And he said unto him, "I am your servant; I will give you my name." And he said unto'}]}
2025-02-08 21:12:30,508 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:30,508 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>The most remarkable thing about Michael Brown is not that<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and (and) And he was with them, and they were with him, and they were with him. And he was with them, and they were with him. And he was with them, but they were not with him;'}]}
2025-02-08 21:12:31,476 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:31,476 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>The state-of-the-art design also combines stealth with superior aerodynamic efficiency and for the performance of and for the performance of all things.\nand are and are and are and for the performance of all things things... And, they're not just for the pleasure of everyone but also because they're so big,"}]}
2025-02-08 21:12:32,279 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:32,279 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>That widens the defense and eases the<|endoftext|><|endoftext|> and and. And he said, "And I will do as you have done, for I am your servant." And he said, "And I will do as you have done." And he said, "And I will not do what you have'}]}
2025-02-08 21:12:33,164 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:33,164 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>Congratulations, you made<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and. And the little girl was there with her mother, she was in a big hug with her mother's mom. And she was crying because she didn't know what to do. And it just got worse for her. She couldn"}]}
2025-02-08 21:12:35,011 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:35,011 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>There are adventures, choices, dangers<|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and And And And And And And But And The Orphanage\nAnd It Was A Wonderful Life\nAnd I Was There In The Night When I Came Home From Prison\nAnd I Was There In The Night When I Came Home From'}]}
2025-02-08 21:12:35,967 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:35,968 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>But I appreciate the art in which I<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and. And he, as he was coming out of the closet, said to me, "You know what\'s going on?" And I said, "Well," he said. And then he went back to his closet. And then'}]}
2025-02-08 21:12:36,773 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:36,773 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'generations': [{'text': "<|endoftext|>A blaze of orange lit up<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and. And they're going to be there for you, because they're going to be there for you. And if you don't have a place, then that's the problem.\n\nAnd if you don't have a place,"}]}
2025-02-08 21:12:37,578 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:37,578 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>The shoot is lovely — exuberant<|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and and (and) And the LORD said unto them, Thou art the Lord; thou shalt be in all things. And they said unto him, Thou shalt be in all things. And he said unto them, Thou shalt be in all'}]}
2025-02-08 21:12:39,489 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 21:12:39,489 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'generations': [{'text': '<|endoftext|>Among the foremost activists of the PUCL&<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|> and and and (and) (and) (and) (and) (and)\nAnd he said, "And I will be with you; and I will give you my love." And he said, "And I will give you my'}]}
2025-02-08 21:12:40,314 [INFO] Show Hyperparameters: 


2025-02-08 21:12:40,314 [INFO]   task: sentiment
2025-02-08 21:12:40,314 [INFO]   layer: 1
2025-02-08 21:12:40,314 [INFO]   LLM: gpt2-small
2025-02-08 21:12:40,314 [INFO]   seed: 42
2025-02-08 21:12:40,314 [INFO]   data_size: -1
2025-02-08 21:12:40,314 [INFO]   device: cuda
2025-02-08 21:12:40,315 [INFO]   alpha: 203.0
2025-02-08 21:12:40,315 [INFO]   method: val_mul
2025-02-08 21:12:40,315 [INFO]   topk_mean: 100
2025-02-08 21:12:40,315 [INFO]   topk_cnt: 50
2025-02-08 21:12:40,315 [INFO]   batch_size: 32
2025-02-08 21:12:40,315 [INFO]   source: pos
2025-02-08 21:12:40,315 [INFO]   target: neg
2025-02-08 21:12:40,315 [INFO]   prompt_source: pos
2025-02-08 21:12:40,315 [INFO]   prompt_data_size: 500
2025-02-08 21:12:40,315 [INFO]   mean_type: dif_mean
2025-02-08 21:12:40,315 [INFO]   steer_type: last
2025-02-08 21:12:40,315 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 21:12:40,315 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:12:40,315 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 21:12:40,315 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 21:12:40,315 [INFO]   temperature: 0.9
2025-02-08 21:12:40,315 [INFO]   top_p: 0.3
2025-02-08 21:12:40,315 [INFO]   freq_penalty: 1.0
2025-02-08 21:12:40,315 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 21:12:40,315 [INFO]   debug: 0
2025-02-08 21:12:40,315 [INFO]   save_no_steer: 0
2025-02-08 21:12:40,315 [INFO]   is_norm_delta_matrix: 0
2025-02-08 21:12:40,315 [INFO]   use_cache: 0
2025-02-08 21:12:40,315 [INFO]   repeat_num: 1
2025-02-08 21:12:40,315 [INFO]   gen_batch_size: 16
2025-02-08 21:12:40,315 [INFO]   real_data_size_for_train: 1624
2025-02-08 21:18:20,875 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 21:18:20,875 [INFO] Show Hyperparameters: 


2025-02-08 21:18:20,875 [INFO]   task: sentiment
2025-02-08 21:18:20,875 [INFO]   layer: 1
2025-02-08 21:18:20,875 [INFO]   LLM: gpt2-small
2025-02-08 21:18:20,875 [INFO]   seed: 42
2025-02-08 21:18:20,875 [INFO]   data_size: -1
2025-02-08 21:18:20,875 [INFO]   device: cuda
2025-02-08 21:18:20,875 [INFO]   alpha: 203.0
2025-02-08 21:18:20,875 [INFO]   method: val_mul
2025-02-08 21:18:20,875 [INFO]   topk_mean: 100
2025-02-08 21:18:20,875 [INFO]   topk_cnt: 50
2025-02-08 21:18:20,875 [INFO]   batch_size: 32
2025-02-08 21:18:20,875 [INFO]   source: pos
2025-02-08 21:18:20,875 [INFO]   target: neg
2025-02-08 21:18:20,876 [INFO]   prompt_source: pos
2025-02-08 21:18:20,876 [INFO]   prompt_data_size: 500
2025-02-08 21:18:20,876 [INFO]   mean_type: dif_mean
2025-02-08 21:18:20,876 [INFO]   steer_type: last
2025-02-08 21:18:20,876 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 21:18:20,876 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:18:20,876 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 21:18:20,876 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 21:18:20,876 [INFO]   temperature: 0.9
2025-02-08 21:18:20,876 [INFO]   top_p: 0.3
2025-02-08 21:18:20,876 [INFO]   freq_penalty: 1.0
2025-02-08 21:18:20,876 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 21:18:20,876 [INFO]   debug: 0
2025-02-08 21:18:20,876 [INFO]   save_no_steer: 0
2025-02-08 21:18:20,876 [INFO]   is_norm_delta_matrix: 0
2025-02-08 21:18:20,876 [INFO]   use_cache: 0
2025-02-08 21:18:20,876 [INFO]   repeat_num: 1
2025-02-08 21:18:20,876 [INFO]   gen_batch_size: 1
2025-02-08 21:18:20,876 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 21:18:20,877 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 21:18:20,877 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 21:18:20,877 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 21:18:20,983 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 21:18:20,987 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 21:18:20,987 [INFO] Loading Model Loading SAE for layer 1 gpt2-small
2025-02-08 21:18:20,987 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 21:18:22,951 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
)
2025-02-08 21:18:22,951 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl 不存在，缓存 steer_info
2025-02-08 21:18:22,968 [INFO] :>> Sentiment : from pos to neg
2025-02-08 21:18:22,980 [INFO] positive
2025-02-08 21:18:22,985 [INFO] Running model with cache to obtain hidden states
2025-02-08 21:18:24,905 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 21:18:24,906 [INFO] negative
2025-02-08 21:18:24,919 [INFO] Running model with cache to obtain hidden states
2025-02-08 21:18:26,965 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 21:18:26,968 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl
2025-02-08 21:18:26,977 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 21:18:27,000 [INFO] sae cfg.hook_name 挂载名称: blocks.1.hook_resid_pre
2025-02-08 21:18:27,003 [INFO] Example prompt: ['But the lack of financial aid would', ' I feel ']
2025-02-08 21:18:27,003 [INFO] Generating texts **without** steering... 
2025-02-08 21:18:27,005 [INFO] 无干预
2025-02-08 22:42:05,722 [INFO] Logging initialized. Logs will be saved to ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/alpha_203.0_from_pos_to_neg_prompt_pos_mean_dif_mean_steertype_last_device_cuda/execution.log
2025-02-08 22:42:05,722 [INFO] Show Hyperparameters: 


2025-02-08 22:42:05,722 [INFO]   task: sentiment
2025-02-08 22:42:05,722 [INFO]   layer: 1
2025-02-08 22:42:05,722 [INFO]   LLM: gpt2-small
2025-02-08 22:42:05,722 [INFO]   seed: 42
2025-02-08 22:42:05,722 [INFO]   data_size: -1
2025-02-08 22:42:05,722 [INFO]   device: cuda
2025-02-08 22:42:05,722 [INFO]   alpha: 203.0
2025-02-08 22:42:05,722 [INFO]   method: val_mul
2025-02-08 22:42:05,722 [INFO]   topk_mean: 100
2025-02-08 22:42:05,722 [INFO]   topk_cnt: 50
2025-02-08 22:42:05,722 [INFO]   batch_size: 32
2025-02-08 22:42:05,722 [INFO]   source: pos
2025-02-08 22:42:05,722 [INFO]   target: neg
2025-02-08 22:42:05,722 [INFO]   prompt_source: pos
2025-02-08 22:42:05,722 [INFO]   prompt_data_size: 500
2025-02-08 22:42:05,722 [INFO]   mean_type: dif_mean
2025-02-08 22:42:05,722 [INFO]   steer_type: last
2025-02-08 22:42:05,722 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 22:42:05,722 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:42:05,722 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:42:05,722 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 22:42:05,722 [INFO]   temperature: 0.9
2025-02-08 22:42:05,722 [INFO]   top_p: 0.3
2025-02-08 22:42:05,722 [INFO]   freq_penalty: 1.0
2025-02-08 22:42:05,722 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 22:42:05,722 [INFO]   debug: 0
2025-02-08 22:42:05,722 [INFO]   save_no_steer: 0
2025-02-08 22:42:05,722 [INFO]   is_norm_delta_matrix: 0
2025-02-08 22:42:05,722 [INFO]   use_cache: 0
2025-02-08 22:42:05,722 [INFO]   repeat_num: 1
2025-02-08 22:42:05,722 [INFO]   gen_batch_size: 16
2025-02-08 22:42:05,723 [INFO] HF_ENDPOINT: https://hf-mirror.com
2025-02-08 22:42:05,723 [INFO] dataset path /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:42:05,723 [INFO] Loading dataset from ****/home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5***
2025-02-08 22:42:05,723 [WARNING] Repo card metadata block was not found. Setting CardData to empty.
2025-02-08 22:42:05,822 [INFO] Filtering dataset for negative, positive, and neutral samples
2025-02-08 22:42:05,827 [INFO] 检查数据量 Selected 3310 negative, 1624 positive, and 3610 neutral samples
2025-02-08 22:42:05,827 [INFO] Loading Model Loading SAE for layer 1 gpt2-small
2025-02-08 22:42:05,827 [INFO] Loading model: gpt2-small SAE gpt2-small-res-jb
2025-02-08 22:43:28,036 [INFO] model architecture for gpt2-small HookedTransformer(
  (embed): Embed()
  (hook_embed): HookPoint()
  (pos_embed): PosEmbed()
  (hook_pos_embed): HookPoint()
  (blocks): ModuleList(
    (0-11): 12 x TransformerBlock(
      (ln1): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (ln2): LayerNormPre(
        (hook_scale): HookPoint()
        (hook_normalized): HookPoint()
      )
      (attn): Attention(
        (hook_k): HookPoint()
        (hook_q): HookPoint()
        (hook_v): HookPoint()
        (hook_z): HookPoint()
        (hook_attn_scores): HookPoint()
        (hook_pattern): HookPoint()
        (hook_result): HookPoint()
      )
      (mlp): MLP(
        (hook_pre): HookPoint()
        (hook_post): HookPoint()
      )
      (hook_attn_in): HookPoint()
      (hook_q_input): HookPoint()
      (hook_k_input): HookPoint()
      (hook_v_input): HookPoint()
      (hook_mlp_in): HookPoint()
      (hook_attn_out): HookPoint()
      (hook_mlp_out): HookPoint()
      (hook_resid_pre): HookPoint()
      (hook_resid_mid): HookPoint()
      (hook_resid_post): HookPoint()
    )
  )
  (ln_final): LayerNormPre(
    (hook_scale): HookPoint()
    (hook_normalized): HookPoint()
  )
  (unembed): Unembed()
) GPT2TokenizerFast(name_or_path='gpt2', vocab_size=50257, model_max_length=1024, is_fast=True, padding_side='right', truncation_side='right', special_tokens={'bos_token': '<|endoftext|>', 'eos_token': '<|endoftext|>', 'unk_token': '<|endoftext|>', 'pad_token': '<|endoftext|>'}, clean_up_tokenization_spaces=False, added_tokens_decoder={
	50256: AddedToken("<|endoftext|>", rstrip=False, lstrip=False, single_word=False, normalized=True, special=True),
}
)
2025-02-08 22:43:28,036 [INFO] 缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl 不存在，缓存 steer_info
2025-02-08 22:43:28,053 [INFO] :>> Sentiment : from pos to neg
2025-02-08 22:43:28,064 [INFO] positive
2025-02-08 22:43:28,069 [INFO] Running model with cache to obtain hidden states
2025-02-08 22:43:29,817 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 22:43:29,818 [INFO] negative
2025-02-08 22:43:29,830 [INFO] Running model with cache to obtain hidden states
2025-02-08 22:43:31,786 [INFO] Total non-zero element shape: torch.Size([24576])
2025-02-08 22:43:31,788 [INFO] steer_info 已保存到缓存 ./results/sentiment_analysis/sentiment_grid_analysis_2_8/gpt2-small_sentiment_layer_1_datasize_ALL_batchsize32_topK_50/steer_info_cache_of_gpt2-small_l1.pkl
2025-02-08 22:43:31,797 [INFO] 转向方向 dif_neg-pos_relu
2025-02-08 22:43:31,818 [INFO] sae cfg.hook_name 挂载名称: blocks.1.hook_resid_pre
2025-02-08 22:43:31,821 [INFO] Example prompt: ['But the lack of financial aid would', ' I feel ']
2025-02-08 22:43:31,821 [INFO] Generating texts **without** steering... 
2025-02-08 22:43:31,823 [INFO] 无干预
2025-02-08 22:43:33,066 [INFO] 当前批次共处理2个prompt
2025-02-08 22:43:33,066 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 22:43:33,066 [INFO] 生成 1:  be a major blow to the nation's struggling economy.

"The n...
2025-02-08 22:43:33,066 [INFO] 生成 2:  be a huge blow to those who are struggling to make ends mee...
2025-02-08 22:43:33,066 [INFO] 生成 3:  be a major blow to any plan to build a new airport in the c...
2025-02-08 22:43:33,066 [INFO] Prompt 2:  I feel ...
2025-02-08 22:43:33,066 [INFO] 生成 1:  and I am not ashamed of it. I have been using this for year...
2025-02-08 22:43:33,066 [INFO] 生成 2: .

I am not sure if this is a "bulk" or a "small" issue, but...
2025-02-08 22:43:33,066 [INFO] 生成 3: 

It's been a while since I've written about this, but here'...
2025-02-08 22:43:33,066 [INFO] 干预之后的结果
2025-02-08 22:43:33,066 [INFO] 干预方向pos->neg,礼貌任务下，neg=impolite，情感任务下 pos=积极情感
2025-02-08 22:43:33,066 [INFO] ** Generating texts with steering... Target **
2025-02-08 22:43:33,066 [INFO] form pos to neg
2025-02-08 22:43:33,963 [INFO] 当前批次共处理2个prompt
2025-02-08 22:43:33,963 [INFO] Prompt 1: But the lack of financial aid would...
2025-02-08 22:43:33,963 [INFO] 生成 1:  be a great way to get people and businesses interested in w...
2025-02-08 22:43:33,963 [INFO] 生成 2:  be a great addition to the existing and future R&D teams.
A...
2025-02-08 22:43:33,963 [INFO] 生成 3:  be to do with the powers and duties of a man and his family...
2025-02-08 22:43:33,963 [INFO] Prompt 2:  I feel ...
2025-02-08 22:43:33,963 [INFO] 生成 1: , and, and. And. And. And. And. And.

And he said to the oth...
2025-02-08 22:43:33,963 [INFO] 生成 2: , and, and. And and. And. And. And. And. And . .and .and .an...
2025-02-08 22:43:33,963 [INFO] 生成 3:  and and and and (and) (and) (and) (and)
And you're going to...
2025-02-08 22:43:33,968 [INFO] Running on full data
2025-02-08 22:43:33,968 [INFO] Out of Domain: Calculate at A dataset, Evaluate at B dataset
2025-02-08 22:43:33,968 [INFO] Loading prompt_path from /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:43:33,982 [INFO] prompt的极性是pos
2025-02-08 22:43:33,982 [INFO] Running with alpha: 203.0
2025-02-08 22:43:33,982 [INFO] Running with prompt_type: from pos to neg
2025-02-08 22:43:33,984 [WARNING] 截取prompt_datasize500
2025-02-08 22:43:34,937 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:34,937 [INFO] {'md5_hash': 'c407590bd7adee91c20e54cb3e8d9407', 'prompt': {'text': '"It sticks true to'}, 'continuation': {'text': 'end of this series.'}, 'num_positive': 25, 'generations': [{'text': '"It sticks true to and and and. And I\'m going to tell you about the man who made this happen, and I\'m going to tell you about the man who did it. And I\'m going to tell you about the man who did it. And I\'m'}]}
2025-02-08 22:43:35,884 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:35,884 [INFO] {'md5_hash': 'cfdaa74e32ff95f0eba5d6e3d2ccfb52', 'prompt': {'text': 'I love hearing from you'}, 'continuation': {'text': 'and seeing your awesome remakes!'}, 'num_positive': 25, 'generations': [{'text': 'I love hearing from you\nand the following and the following and the following and the following, which are also not true:\n\nThe word "carpet" is used in this book. The term "carpet" does not mean a large garden or cottage'}]}
2025-02-08 22:43:36,691 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:36,691 [INFO] {'md5_hash': '0b016699031c350b9a2b3058b0afb0e5', 'prompt': {'text': 'Moreover, we see the interest of our French friends'}, 'continuation': {'text': 'in the expansion of economic interaction," Putin said.'}, 'num_positive': 25, 'generations': [{'text': 'Moreover, we see the interest of our French friends and and and (and) (and) (and) and). And I\'m going to tell you how it works.\nThe "L" is the same as "I". The "L" is the same as "I". The "'}]}
2025-02-08 22:43:37,472 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:37,472 [INFO] {'md5_hash': '69bd9752967129a6d981466ebfad7a74', 'prompt': {'text': 'The artful play of dynamics'}, 'continuation': {'text': 'practically leaps from the speakers.'}, 'num_positive': 25, 'generations': [{'text': "The artful play of dynamics.\nAnd we are going to have a new, exciting game called:\nand it's going to be very interesting and we're going to be doing something different and different with the game. And that's what I'm doing right now. So"}]}
2025-02-08 22:43:39,113 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:39,113 [INFO] {'md5_hash': '651e720c206878a2cd7a54b998aa12d8', 'prompt': {'text': '"He spoke with such amazing passion even in'}, 'continuation': {'text': 'the staid environment of a university congregation."'}, 'num_positive': 25, 'generations': [{'text': '"He spoke with such amazing passion even in and and and and. And he did, but the children of the earth were not, nor were they; but the children of God, who are all-powerful and all-knowing, were not. And he did it, but the children'}]}
2025-02-08 22:43:39,996 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:39,997 [INFO] {'md5_hash': '91c05642f792c6144026d1cdc33ec194', 'prompt': {'text': 'It proved an enlightening experience, though he was'}, 'continuation': {'text': 'lucky to make it through the first night.'}, 'num_positive': 25, 'generations': [{'text': 'It proved an enlightening experience, though he was and and and (and) (and) (and) and. And they came to the place where I had been, and there was a man in the house of my father, who had been born in that place. And he came to me'}]}
2025-02-08 22:43:40,843 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:40,843 [INFO] {'md5_hash': '456549c5bd893bb13959b090b8d18426', 'prompt': {'text': '"You are my favorite person in the'}, 'continuation': {'text': 'world, Elsa," he said sincerely.'}, 'num_positive': 25, 'generations': [{'text': '"You are my favorite person in the and and and and And I said, "Well, we\'re going to have a baby. And we\'re going to have a baby." And that\'s what I\'m saying. And it\'s not just about the babies. It\'s about everything else'}]}
2025-02-08 22:43:41,643 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:41,643 [INFO] {'md5_hash': '76d31af0497b3132d268c9129a72c20e', 'prompt': {'text': 'This group includes multiple chemists and'}, 'continuation': {'text': 'biologists with many years of experience.'}, 'num_positive': 25, 'generations': [{'text': 'This group includes multiple chemists and, and and and. And I said to myself, "I\'m going to do this," so I did it. And that\'s what I\'ve done for the past three years.\n\nAnd that\'s what I\'ve done for the past three'}]}
2025-02-08 22:43:43,272 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:43,272 [INFO] {'md5_hash': 'e75aa8b233efdea290a58a4fd2b134d3', 'prompt': {'text': 'This is the enduring image of Craig Biggio: sitting'}, 'continuation': {'text': 'at his locker after a game, his No.'}, 'num_positive': 25, 'generations': [{'text': 'This is the enduring image of Craig Biggio: sitting and and and and and\nand, but not all of them that are, are. And it is said that the Lord Jesus Christ shall be in the church, with all his people, to teach them as they are. And it is said that'}]}
2025-02-08 22:43:44,054 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:44,054 [INFO] {'md5_hash': '3cf62df287d67cb79adf6b1fbff58b8f', 'prompt': {'text': 'ONCE again, the Seattle Hempfest drew tens of'}, 'continuation': {'text': 'thousands to parks along the waterfront this weekend.'}, 'num_positive': 25, 'generations': [{'text': "ONCE again, the Seattle Hempfest drew tens of and and and and and . . . And they were going to make the people's houses. And they were going to make them houses. And they were going to make them houses. And they were going to make them houses. And they were going"}]}
2025-02-08 22:43:44,863 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:44,863 [INFO] {'md5_hash': 'e5f5eed4096c578869ba21483ce29265', 'prompt': {'text': 'With our assortment of whimsical tea'}, 'continuation': {'text': "infusers, it's simple."}, 'num_positive': 25, 'generations': [{'text': "With our assortment of whimsical tea and and and and (and) And they're all there, And they're all there, And they're all there, And they're all there, And they're all there, And they're all there, And they're all there (and"}]}
2025-02-08 22:43:45,638 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:45,638 [INFO] {'md5_hash': '04ef00f337f6e570a8ce1915c369e2f9', 'prompt': {'text': 'People from every neighbourhood in London came to our'}, 'continuation': {'text': 'embassy to demonstrate their solidarity with the French people.'}, 'num_positive': 25, 'generations': [{'text': 'People from every neighbourhood in London came to our and and and and and . .and And the Lord God Almighty, who hath made the world, will make it all great, that it may be as well as he has made it. And he will make all things great; that they may be'}]}
2025-02-08 22:43:47,304 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:47,304 [INFO] {'md5_hash': 'c909aabc4f7c0ce22e6071785aadbdb8', 'prompt': {'text': 'Home Affairs Minister Peter Dutton praised the efforts'}, 'continuation': {'text': 'of police, intelligence and border force agencies.'}, 'num_positive': 25, 'generations': [{'text': 'Home Affairs Minister Peter Dutton praised the efforts, and and and and and And And And And And But And Then So So So Then Which Which Which Which Which Of The Many Things which are here said in the beginning of this book, I have spoken to you concerning all things which are here said'}]}
2025-02-08 22:43:48,206 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:48,206 [INFO] {'md5_hash': '8ee373a4e66d4906fc03ac91df4c3ea1', 'prompt': {'text': 'The Baltimore Orioles will promote first baseman Travis Ishikawa from'}, 'continuation': {'text': 'Triple-A Norfolk, a source has confirmed to MLBDailyDish.com.'}, 'num_positive': 25, 'generations': [{'text': "The Baltimore Orioles will promote first baseman Travis Ishikawa from, and and and and. And the people who are going to be on the front lines of fighting for their lives. And that's what we're going to do, because we believe in fighting for our lives. And that's what we're going"}]}
2025-02-08 22:43:49,002 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:49,002 [INFO] {'md5_hash': '738be85755a865532b0fd7d73e465980', 'prompt': {'text': 'What I will do is help you become the best'}, 'continuation': {'text': 'investor you can, with limited resources and time.'}, 'num_positive': 25, 'generations': [{'text': 'What I will do is help you become the best and and and. And and and. And he came to the Lord, saying, "I am your servant; I am your God." And he said unto him, "I have come to you, that you may know me." And he said'}]}
2025-02-08 22:43:49,935 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:49,935 [INFO] {'md5_hash': '761ccf9dd64b9da400abadc5ecf69c71', 'prompt': {'text': "With LINC it's simple and easy"}, 'continuation': {'text': 'to create wireless and wired sensor networks.'}, 'num_positive': 25, 'generations': [{'text': "With LINC it's simple and easy and and (and) and then they're going to be able to go out there, in the world, and say that they're going to be able to do it. And that's what we're doing. And that's what we're doing"}]}
2025-02-08 22:43:51,603 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:51,603 [INFO] {'md5_hash': '156b47ff348a2d83a932ac9d069679fe', 'prompt': {'text': 'The most remarkable thing about Michael Brown is not that'}, 'continuation': {'text': 'he was killed by the authorities in broad daylight.'}, 'num_positive': 25, 'generations': [{'text': 'The most remarkable thing about Michael Brown is not that and and and and (and) And he was like, "I don\'t know what\'s going on here. I\'m just trying to get the facts out." And then there was this guy who had been around for a long time, and had'}]}
2025-02-08 22:43:52,382 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:52,383 [INFO] {'md5_hash': '728b4c163f3d9f980df337aac09e477b', 'prompt': {'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency'}, 'continuation': {'text': 'for increased altitude, range and time on station.'}, 'num_positive': 25, 'generations': [{'text': 'The state-of-the-art design also combines stealth with superior aerodynamic efficiency and and and and,and,and. And it is. And it is. And it is. And it is. And it is."\n\nAnd he said, "And I say to you that the man who has done all this work'}]}
2025-02-08 22:43:53,160 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:53,160 [INFO] {'md5_hash': '1c62ddfc0440e322eddb7813558aae07', 'prompt': {'text': 'That widens the defense and eases the'}, 'continuation': {'text': 'box for the inside zone run.'}, 'num_positive': 25, 'generations': [{'text': "That widens the defense and eases the-----\nThe news is coming in. It's not just that we're seeing, but also what it means for our future. And as you know, this is going to be a very long time coming. But here's what"}]}
2025-02-08 22:43:53,938 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:53,938 [INFO] {'md5_hash': '1b4ffa8219fde4513f85ea9586d3f8fc', 'prompt': {'text': 'Congratulations, you made'}, 'continuation': {'text': 'it this far.'}, 'num_positive': 25, 'generations': [{'text': "Congratulations, you made and and and. And they're both in the same room, and they're both talking about it. And they're both saying that it's not going to happen, because we don't have any way to stop it.\nAnd I think that"}]}
2025-02-08 22:43:55,532 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:55,532 [INFO] {'md5_hash': '669e0d201c1f25e81ed6a5e00ec3b222', 'prompt': {'text': 'There are adventures, choices, dangers'}, 'continuation': {'text': 'and surprises at every pledge level.'}, 'num_positive': 25, 'generations': [{'text': 'There are adventures, choices, dangers and and and and (and) (and) (and) And he said unto them: Behold, I am the Lord your God; my name is Jesus Christ. And they said unto him: Behold, I am the Lord your God'}]}
2025-02-08 22:43:56,352 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:56,352 [INFO] {'md5_hash': 'dad4bada941e98f9a9570681469c841a', 'prompt': {'text': 'But I appreciate the art in which I'}, 'continuation': {'text': 'can totally forget about all those problems.'}, 'num_positive': 25, 'generations': [{'text': 'But I appreciate the art in which I, and and and and and. And it was a man who had many wives, a man who had many wives, a man who had been married to many women, an one whom he knew well. And he said unto them: "And if'}]}
2025-02-08 22:43:57,133 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:57,133 [INFO] {'md5_hash': '8072fa33d0471657baec479ebf553bdf', 'prompt': {'text': 'A blaze of orange lit up'}, 'continuation': {'text': 'the space behind said cockpit.'}, 'num_positive': 25, 'generations': [{'text': 'A blaze of orange lit up and and and. And the great, powerful, beautiful woman who was with her husband and had a wonderful life. And she was married to the great, beautiful woman who was in love with her husband. And she was married to the great, beautiful'}]}
2025-02-08 22:43:57,925 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:57,925 [INFO] {'md5_hash': '021f235b3bc3783e1fcaa45d47b9f882', 'prompt': {'text': 'The shoot is lovely — exuberant'}, 'continuation': {'text': ', colorful, even diverse.'}, 'num_positive': 25, 'generations': [{'text': "The shoot is lovely — exuberant the real story of and how it happened. And we're going to talk about that, and also what's happening in the world. And I'm going to talk about how you can make a difference, whether you're a feminist or not, by"}]}
2025-02-08 22:43:59,551 [INFO] sentiment: from pos to neg prompt_set: pos
2025-02-08 22:43:59,551 [INFO] {'md5_hash': '5db19088b98f3b791fbdc56296a6330e', 'prompt': {'text': 'Among the foremost activists of the PUCL&'}, 'continuation': {'text': 'DR was an economist named C.V. Subba Rao.'}, 'num_positive': 25, 'generations': [{'text': 'Among the foremost activists of the PUCL& and and and and (and) and (and) and (and) and (and) And it is, that I have been made, that I have been made, to be my husband. And it is, that I have been made;'}]}
2025-02-08 22:44:00,301 [INFO] Show Hyperparameters: 


2025-02-08 22:44:00,301 [INFO]   task: sentiment
2025-02-08 22:44:00,301 [INFO]   layer: 1
2025-02-08 22:44:00,301 [INFO]   LLM: gpt2-small
2025-02-08 22:44:00,301 [INFO]   seed: 42
2025-02-08 22:44:00,301 [INFO]   data_size: -1
2025-02-08 22:44:00,301 [INFO]   device: cuda
2025-02-08 22:44:00,301 [INFO]   alpha: 203.0
2025-02-08 22:44:00,301 [INFO]   method: val_mul
2025-02-08 22:44:00,301 [INFO]   topk_mean: 100
2025-02-08 22:44:00,301 [INFO]   topk_cnt: 50
2025-02-08 22:44:00,301 [INFO]   batch_size: 32
2025-02-08 22:44:00,301 [INFO]   source: pos
2025-02-08 22:44:00,301 [INFO]   target: neg
2025-02-08 22:44:00,301 [INFO]   prompt_source: pos
2025-02-08 22:44:00,301 [INFO]   prompt_data_size: 500
2025-02-08 22:44:00,301 [INFO]   mean_type: dif_mean
2025-02-08 22:44:00,301 [INFO]   steer_type: last
2025-02-08 22:44:00,301 [INFO]   output_dir: ./results/sentiment_analysis/sentiment_grid_analysis_2_8
2025-02-08 22:44:00,301 [INFO]   dataset_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/sentiment/sst5
2025-02-08 22:44:00,301 [INFO]   prompt_path: /home/ckqsudo/code2024/0dataset/baseline-acl/data/prompts/sentiment_prompts-10k
2025-02-08 22:44:00,301 [INFO]   env_path: /home/ckqsudo/code2024/CKQ_ACL2024/Control_Infer/SAE-simple/.env
2025-02-08 22:44:00,301 [INFO]   temperature: 0.9
2025-02-08 22:44:00,301 [INFO]   top_p: 0.3
2025-02-08 22:44:00,301 [INFO]   freq_penalty: 1.0
2025-02-08 22:44:00,301 [INFO]   example_prompt: But the lack of financial aid would| I feel 
2025-02-08 22:44:00,301 [INFO]   debug: 0
2025-02-08 22:44:00,301 [INFO]   save_no_steer: 0
2025-02-08 22:44:00,301 [INFO]   is_norm_delta_matrix: 0
2025-02-08 22:44:00,301 [INFO]   use_cache: 0
2025-02-08 22:44:00,301 [INFO]   repeat_num: 1
2025-02-08 22:44:00,301 [INFO]   gen_batch_size: 16
2025-02-08 22:44:00,301 [INFO]   real_data_size_for_train: 1624
